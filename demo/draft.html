<!doctype html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="UTF-8" />
<link rel="stylesheet" href="../lib/comfortable.css" />
<script src="../lib/comfortable.js"></script>
<style>
</style>
</head>
<body>
<div id="log"></div>
<button id="btn"> test </button>
<script>

'use strict';

var options = [
  { value : null, label : '' },
  { value : '1', label : 'A' },
  { value : '2', label : 'B' }
];

options = [];
for (var i = 0; i < 100; i += 1) {
  options.push({ label : 'LABEL' + i, value : i });
}

var table = comfortable.fromTemplate({
  thead: [
    [
      { dataField: 'se', dataType : 'select-one', options : options },
      { dataField: 'b', label: 'Boolean', _showGroupCheck : false },
      { dataField: 's', label: 'String' },
      { dataField: 'n', label: 'Number' },
      { dataField: 'ns', label: 'NumberS' },
      { dataField: 'd', label: 'Date', width: 120 }
    ]
  ],
  tbody: [
    [
      { dataField: 'se', dataType : 'select-one', options : options },
      { dataField: 'b', dataType : 'boolean', width:20, booleanValues:['F','T'] },
      { dataField: 's', dataType : 'string', width:20 },
      { dataField: 'n', dataType : 'number' },
      { dataField: 'ns', dataType : 'number' },
      { dataField: 'd', dataType : 'date' },
      { dataField: 'd', dataType : 'string', editable: false }
    ],
    [{ dataField: 'x' }]
  ]
});

// set border style.
table.model.defaultCellStyle.borderRight = '1px solid silver';
table.model.defaultCellStyle.borderBottom = '1px solid silver';
table.$el.style.border = '1px solid silver';
table.model.on('valuechange', function(event, detail) {
  console.log('valuechange', event, detail);
});
var items = [];
for (var i = 0; i < 100; i += 1) {
  items.push({ b: i%2==0?'T':'F',s: i%2==0?null:'', ns: '' + i,
      nsTooltip : (i % 2 == 0? null : 'hi!'),
      n: i, d: '20190101', x:'n/a' });
}
table.model.items = items;

//
table.$el.style.width = '800px';
table.$el.style.height = '250px';

//request rendering.
table.invalidate();

table.model.setTableState({});

document.body.appendChild(table.$el);

document.getElementById('btn').addEventListener('click', function() {

  document.getElementById('log').textContent = JSON.stringify(table.model.items[0]);

});

</script>

</body>
</html>
