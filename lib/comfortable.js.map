{"version":3,"sources":["src/main/ts/core/_node.ts","src/main/ts/core/DefaultCellRendererFactory.ts","src/main/ts/core/EventTarget.ts","src/main/ts/core/DefaultTableModel.ts","src/main/ts/core/i18n.ts","src/main/ts/core/i18n/en.ts","src/main/ts/core/i18n/ja.ts","src/main/ts/core/UIEventTarget.ts","src/main/ts/core/InternalTable.ts","src/main/ts/core/List.ts","src/main/ts/core/renderer/CheckBox.ts","src/main/ts/core/renderer/SelectBox.ts","src/main/ts/core/renderer/TextEditor_DateField.ts","src/main/ts/core/renderer/TextEditor_SelectBox.ts","src/main/ts/core/renderer/TextEditor.ts","src/main/ts/core/renderer/Tooltip.ts","src/main/ts/core/style.ts","src/main/ts/core/Table.ts","src/main/ts/core/ui.ts","src/main/ts/core/util.ts","src/main/ts/template-support/DefaultFilter.ts","src/main/ts/template-support/DefaultHeaderCellRendererFactory.ts","src/main/ts/template-support/TemplateSupport.ts","src/main/ts/vue-support/VueSupport.ts","src/main/ts/core/_intf.ts","src/main/ts/template-support/_intf.ts"],"names":[],"mappings":"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","file":"comfortable.js","sourcesContent":["/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  // export\n  declare var exports : any, module : any;\n  if (typeof exports === 'object') {\n    module.exports = comfortable;\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  export var createDefaultCellRendererFactoryOpts =\n      function() : CellRendererFactoryOpts {\n    return {\n      // value to label\n      labelFunction : function(value, cell) {\n\n        if (typeof cell.labelFunction == 'function') {\n\n          return cell.labelFunction(value, cell);\n\n        } else if (value === null || typeof value == 'undefined') {\n\n          return '';\n\n        } else if (this.dataType == 'number') {\n\n          return util.formatNumber(value, this.decimalDigits);\n\n        } else if (this.dataType == 'date') {\n\n          return util.formatDate(value);\n\n        } else if (this.dataType == 'select-one') {\n\n          var options = renderer.SelectBox.getOptions(cell);\n          if (typeof options.splice != 'function') {\n            // not an Array.\n            return options[value] || '';\n          }\n\n          var labelField = (<SelectBoxCell>cell).labelField || 'label';\n          var valueField = (<SelectBoxCell>cell).valueField || 'value';\n          for (var i = 0; i < options.length; i += 1) {\n            var option = options[i];\n            if (option[valueField] == value) {\n              return option[labelField];\n            }\n          }\n          return '';\n \n        } else {\n\n          // by default, to string.\n          return '' + value;\n\n        }\n      },\n      editorPool : createEditorPool()\n    };\n  };\n\n  var createEditorPool = function() : EditorPool {\n    var pool : { [ dataType : string ] : CellEditor<any>[] } = {}\n    var getPool = function(dataType :  string) : CellEditor<any>[] {\n      return pool[dataType] || (pool[dataType] = []);\n    };\n    return {\n      /**\n       * create or get an editor.\n       */\n      getEditor : function(dataType : string) : CellEditor<any> {\n        var pool = getPool(dataType);\n        if (pool.length > 0) {\n          return pool.shift();\n        }\n        if (this.dataType == 'select-one') {\n          //return new renderer.SelectBox(this);\n        } else if (dataType == 'boolean') {\n          return new renderer.CheckBox();\n        }\n        return new renderer.TextEditor(dataType);\n      },\n      releaseEditor : function(dataType : string, editor : CellEditor<any>) {\n        getPool(dataType).push(editor);\n      }\n    };\n  };\n\n  export var createDefaultCellRendererFactory =\n      function(opts? : CellRendererFactoryOpts) :\n        TableCellRendererFactory {\n\n    opts = util.extend(createDefaultCellRendererFactoryOpts(), opts || {});\n\n    return function(td : TdWrapper) : TableCellRenderer {\n\n      var labelRenderer = createMultiLineLabelRenderer(td.$el);\n      var editor : CellEditor<any> = null;\n      var oldValue : any = null;\n\n      var beginEdit = function(cell : EditorCell) {\n        if (editor == null) {\n          editor = opts.editorPool.getEditor(opts.dataType);\n          td.$el.appendChild(editor.$el);\n        }\n        labelRenderer.setVisible(false);\n        editor.beginEdit(td, cell);\n        editor.setVisible(true);\n        editor.setValue(oldValue = cell.value);\n      };\n\n      var renderIsEditor = opts.renderIsEditor;\n      if (typeof renderIsEditor == 'undefined') {\n        renderIsEditor = opts.dataType == 'boolean' ||\n          opts.dataType == 'select-one' ||\n          opts.dataType == 'date' ||\n          opts.dataType == 'multi-line-string';\n      }\n\n      var editing = false;\n\n      return {\n        getCellStyle : function(cell) : ElementOptions {\n          if (!renderIsEditor) {\n            if (!cell.textAlign && opts.dataType == 'number') {\n              return { style : { textAlign : 'right' } };\n            }\n          }\n          return {};\n        },\n        render : function(cell) {\n          if (!renderIsEditor) {\n            labelRenderer.setLabel(opts.labelFunction(cell.value, cell) );\n          } else {\n            // render is editor.\n            if (!editing) {\n              beginEdit(cell);\n            }\n          }\n        },\n        beginEdit : function(cell) {\n          editing = true;\n          beginEdit(cell);\n          return {\n            focus : function() {\n              editor.focus();\n            },\n            endEdit : function() {\n              if (!editor) {\n                // disposed.\n                return null;\n              }\n              editing = false;\n              if (!renderIsEditor) {\n                labelRenderer.setVisible(true);\n                editor.setVisible(false);\n              } else {\n                editor.blur();\n              }\n              return { oldValue : oldValue,\n                newValue : editor.isValid()? editor.getValue() : oldValue };\n            }\n          };\n        },\n        dispose : function() {\n          if (editor != null) {\n            td.$el.removeChild(editor.$el);\n            opts.editorPool.releaseEditor(opts.dataType, editor);\n            editor = null;\n          }\n        }\n      };\n    };\n  };\n\n  var linesRe = /\\r?\\n/g;\n\n  export var createMultiLineLabelRenderer = function(parent : HTMLElement) {\n    var elms : HTMLElement[] = null;\n    var lastLabel : string = null;\n    return {\n      setLabel : function(label : string) {\n        if (lastLabel === label) {\n          return;\n        }\n        lastLabel = label;\n        if (elms == null) {\n          elms = [ document.createElement('span') ];\n          parent.appendChild(elms[0]);\n        }\n        var lines = label.split(linesRe);\n        elms[0].textContent = lines[0];\n        var elmIndex = 1;\n        for (var i = 1; i < lines.length; i += 1) {\n          if (elmIndex + 1 >= elms.length) {\n            elms.push(document.createElement('br') );\n            elms.push(document.createElement('span') );\n            parent.appendChild(elms[elmIndex]);\n            parent.appendChild(elms[elmIndex + 1]);\n          }\n          elms[elmIndex].style.display = '';\n          elms[elmIndex + 1].style.display = '';\n          elms[elmIndex + 1].textContent = lines[i];\n          elmIndex += 2;\n        }\n        for (; elmIndex < elms.length; elmIndex += 1) {\n          elms[elmIndex].style.display = 'none';\n        }\n      },\n      setVisible : function(visible : boolean) {\n        if (elms != null) {\n          for (var i = 0; i < elms.length; i += 1) {\n            elms[i].style.display = visible? '' : 'none';\n          }\n        }\n      }\n    };\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  export interface Event {\n    type : string;\n    preventDefault : () => void;\n    defaultPrevented : boolean;\n    target? : any;\n    currentTarget? : any;\n    which? : number;\n    pageX? : number;\n    pageY? : number;\n  }\n\n  export type EventListener = (event : Event, detail? : any) => void;\n\n  export interface EventTarget {\n    trigger : (type : string, detail? : any) => EventTarget;\n    on : (type : string, listener : EventListener) => EventTarget;\n    off : (type : string, listener : EventListener) => EventTarget;\n    once : (type : string, listener : EventListener) => EventTarget;\n  }\n\n  /**\n   * @internal\n   */\n  export class EventTargetImpl implements EventTarget {\n    private map : { [ type : string ] : EventListener[] } = {};\n    private listeners(type : string) : EventListener[] {\n       return this.map[type] || (this.map[type] = []);\n    }\n    public trigger(type : string, detail? : any) {\n      var ctx = this;\n      var event = new EventImpl(type);\n      this.listeners(type).forEach(function(listener : EventListener) {\n        listener.call(ctx, event, detail);\n      });\n      return this;\n    }\n    public on(type : string, listener : EventListener) {\n      this.listeners(type).push(listener);\n      return this;\n    }\n    public off(type : string, listener : EventListener) {\n      this.map[type] = this.listeners(type).filter(function(l : EventListener) {\n        return listener != l;\n      });\n      return this;\n    }\n    public once(type : string, listener : EventListener) {\n      var wrapper = function(event : Event, detail? : any) {\n        listener.apply(this, arguments);\n        this.off(type, wrapper);\n      };\n      this.on(type,  wrapper);\n      return this;\n    }\n  }\n\n  class EventImpl implements Event {\n    public type : string;\n    public defaultPrevented = false;\n    constructor(type : string) {\n      this.type = type;\n    }\n    public preventDefault() {\n      this.defaultPrevented = true;\n    }\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\n/// <reference path=\"EventTarget.ts\" />\n\nnamespace comfortable {\n\n  /**\n   * @internal\n   */\n  export class DefaultTableModel extends EventTargetImpl implements TableModel {\n    public defaultCellWidth = 100;\n    public defaultCellHeight = 28;\n    public defaultCellStyle = { rowSpan : 1, colSpan : 1, editable : true };\n    public defaultCellRendererFactory = createDefaultCellRendererFactory();\n    public maxRowSpan = 8;\n    public maxColSpan = 8;\n    public minCellWidth = 8;\n    public getLockTop() { return 0; }\n    public getLockLeft() { return 0; }\n    public getLockBottom() { return 0; }\n    public getLockRight() { return 0; }\n    public getRowCount() { return 1E5; }\n    public getColumnCount() { return 1E5; }\n    public getLineRowAt(row : number) { return row; }\n    public getLineRowCountAt(row : number) { return this.getRowCount(); }\n    public getValueAt(row : number, col : number) { return row + ',' + col; }\n    public getTooltipAt(row : number, col : number) { return ''; }\n    public getCellStyleAt(row : number, col : number) { return {}; }\n    public getCellRendererFactoryAt(row : number, col : number) { return this.defaultCellRendererFactory; }\n    public getCellWidthAt(col : number) { return this.defaultCellWidth; }\n    public getCellHeightAt(row : number) { return this.defaultCellHeight; }\n    public getCellAt(row : number, col : number) {\n      return util.extend({\n          row : row, col : col,\n          value : this.getValueAt(row, col),\n          tooltip : this.getTooltipAt(row, col)\n        }, this.defaultCellStyle, this.getCellStyleAt(row, col) );\n    }\n    public checkSpaned(row : number, col : number) {\n      var minRow = Math.max(0, row - this.maxRowSpan);\n      var minCol = Math.max(0, col - this.maxColSpan);\n      for (var r = row; r >= minRow; r -= 1) {\n        for (var c = col; c >= minCol; c -= 1) {\n          if (r != row || c != col) {\n            var cell = this.getCellAt(r, c);\n            if (row < r + cell.rowSpan && col < c + cell.colSpan) {\n              return { row : r, col : c };\n            }\n          }\n        }\n      }\n      return null;\n    }\n    public isColumnResizableAt(col : number) { return true; }\n    public isColumnDraggable() { return true; }\n    public isColumnHiddenAt(col : number) { return false; }\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.i18n {\n\n  export interface I18N {\n    messages : Messages\n  }\n\n  export interface Messages {\n    RESET_FILTER : string;\n    EDIT_COLUMNS : string;\n    SORT_ASC : string;\n    SORT_DESC : string;\n    APPLY : string;\n    OK : string;\n    CANCEL : string;\n    RESET : string;\n    LOCK_COLUMN : string;\n    SELECT_BLANK : string;\n    SELECT_ALL : string;\n    SEARCH : string;\n    CLEAR_FILTER_FROM : string;\n    TEXT_FILTERS : string;\n    NUMBER_FILTERS : string;\n    DATE_FILTERS : string;\n    OP_LAYOUT : string;\n    AND : string;\n    OR : string;\n    EQUALS : string;\n    NOT_EQUALS : string;\n    GREATER_THAN : string;\n    GREATER_THAN_OR_EQUALS : string;\n    LESS_THAN : string;\n    LESS_THAN_OR_EQUALS : string;\n    STARTS_WITH : string;\n    NOT_STARTS_WITH : string;\n    ENDS_WITH : string;\n    NOT_ENDS_WITH : string;\n    CONTAINS : string;\n    NOT_CONTAINS : string;\n    WEEKDAYS : string;\n  }\n\n  export var getInstance = function(lang : string) {\n    lang = lang || navigator.language || (<any>navigator).userLanguage;\n    var _i18n : any = i18n;\n    return <I18N>(util.extend({}, _i18n.en, _i18n[lang] ||\n        _i18n[lang.replace(/\\-\\w+$/, '')] || {}) );\n  }\n\n  export var getMessages = function() : Messages {\n    return util.extend(\n        this.getInstance('en').messages,\n        this.getInstance().messages);\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.i18n {\n\n  /**\n   * @internal\n   */\n  export var en : I18N = {\n    messages : {\n      RESET_FILTER : 'Clear Sort and Filters',\n      EDIT_COLUMNS : 'Column Visibility and Order',\n      SORT_ASC : 'Sort Ascending',\n      SORT_DESC : 'Sort Descending',\n      APPLY : 'Apply',\n      OK : 'OK',\n      CANCEL : 'Cancel',\n      RESET : 'Reset',\n      LOCK_COLUMN : '< Lock Column >',\n      SELECT_BLANK : '(Space)',\n      SELECT_ALL : '(Select All)',\n      SEARCH : 'Search',\n      CLEAR_FILTER_FROM : 'Clear Filter From \"{0}\"',\n      TEXT_FILTERS : 'Text Filters',\n      NUMBER_FILTERS : 'Number Filters',\n      DATE_FILTERS : 'Date Filters',\n      OP_LAYOUT : 'L',\n      AND : 'AND',\n      OR : 'OR',\n      EQUALS : 'Equals',\n      NOT_EQUALS : 'Not Equals',\n      GREATER_THAN : 'Greater Than',\n      GREATER_THAN_OR_EQUALS : 'Greater Than or Equals',\n      LESS_THAN : 'Less Than',\n      LESS_THAN_OR_EQUALS : 'Less Than or Equals',\n      STARTS_WITH : 'Starts With',\n      NOT_STARTS_WITH : 'Not Starts With',\n      ENDS_WITH : 'Ends With',\n      NOT_ENDS_WITH : 'Not Ends With',\n      CONTAINS : 'Contains',\n      NOT_CONTAINS : 'Not Contains',\n      WEEKDAYS : 'Su,Mo,Tu,We,Th,Fr,Sa'\n    }\n  };\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.i18n {\n\n  /**\n   * @internal\n   */\n  export var ja : I18N = {\n    messages : {\n      RESET_FILTER : '',\n      EDIT_COLUMNS : '',\n      SORT_ASC : '',\n      SORT_DESC : '',\n      APPLY : '',\n      OK : 'OK',\n      CANCEL : '',\n      RESET : '',\n      LOCK_COLUMN : '<  >',\n      SELECT_BLANK : '()',\n      SELECT_ALL : '()',\n      TEXT_FILTERS : '',\n      NUMBER_FILTERS : '',\n      DATE_FILTERS : '',\n      SEARCH : '',\n      CLEAR_FILTER_FROM : '\"{0}\" ',\n      OP_LAYOUT : 'R',\n      AND : 'AND',\n      OR : 'OR',\n      EQUALS : '',\n      NOT_EQUALS : '',\n      GREATER_THAN : '',\n      GREATER_THAN_OR_EQUALS : '',\n      LESS_THAN : '',\n      LESS_THAN_OR_EQUALS : '',\n      STARTS_WITH : '',\n      NOT_STARTS_WITH : '',\n      ENDS_WITH : '',\n      NOT_ENDS_WITH : '',\n      CONTAINS : '',\n      NOT_CONTAINS : '',\n      WEEKDAYS : ',,,,,,'\n    }\n  };\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\n/// <reference path=\"EventTarget.ts\" />\n\nnamespace comfortable {\n\n  export interface UIEventTarget extends EventTarget {\n    invalidate : () => void;\n    render : () => void;\n  }\n\n  /**\n   * @internal\n   */\n  export class UIEventTargetImpl\n  extends EventTargetImpl implements UIEventTarget {\n    public valid = true;\n    public invalidate() {\n      this.valid = false;\n      util.callLater(function() {\n        if (!this.valid) {\n          this.valid = true;\n          this.render();\n        }\n      }.bind(this) );\n    }\n    public render() {\n    }\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\n/// <reference path=\"UIEventTarget.ts\" />\n\nnamespace comfortable {\n\n  /**\n   * @internal\n   */\n  export interface ElmCache {\n    $el : HTMLElement;\n    opts? : ElementOptions;\n    tableModel? : TableModel; \n    row? : number;\n    col? : number;\n    children? : ElmCache[];\n    renderer? : TableCellRenderer;\n    factory? : TableCellRendererFactory;\n  }\n\n  /**\n   * @internal\n   */\n  export interface TableState {\n    left : number;\n    top : number;\n    width : number;\n    height : number;\n    minRow : number;\n    maxRow : number;\n    minCol : number;\n    maxCol : number;\n    indexById : { [id : string] : { trIndex : number, tdIndex : number} };\n  }\n\n  /**\n   * @internal\n   */\n  export interface OffsetCache {\n    left : { [i : number] : number };\n    top : { [i : number] : number };\n  }\n\n  /**\n   * @internal\n   */\n  export interface InternalTable {\n    $el : HTMLElement;\n    left : number;\n    top : number;\n    colgroup : ElmCache;\n    tbody : ElmCache;\n    row? : number;\n    col? : number;\n    model : TableModel;\n    tableState : TableState;\n    beforeCellSizeChangeHandler : EventListener;\n    offsetCache : OffsetCache;\n    calcCellPosition : (left : number, top : number) => {\n      left : number, top : number, row : number, col : number};\n    setBounds : (rect : Rect) => void;\n    render : (cellStyleOnly : boolean) => void;\n  }\n\n  var createTableState = function() : TableState {\n    return {\n      left : 0, top : 0, width : 0, height : 0,\n      minRow : 0, maxRow : 0, minCol : 0, maxCol : 0,\n      indexById : {}\n    };\n  }\n\n  var applyCellStyle = function(elm : ElmCache, opts : ElementOptions) {\n    var diffOpts : ElementOptions = { attrs : {}, style : {}, props : {} };\n    applyCellStyleProps(elm, opts, 'attrs', diffOpts);\n    applyCellStyleProps(elm, opts, 'style', diffOpts);\n    applyCellStyleProps(elm, opts, 'props', diffOpts);\n    util.set(elm.$el, diffOpts);\n  }\n  var applyCellStyleProps = function(elm : any, opts : any,\n      propsName : string, diffOpts : any) {\n    var props = opts[propsName];\n    if (props) {\n      for (var k in props) {\n        var v = props[k];\n        if (elm.opts[propsName][k] !== v) {\n          diffOpts[propsName][k] = elm.opts[propsName][k] = v;\n        }\n      }\n    }\n  }\n\n  /**\n   * @internal\n   */\n  export class InternalTableImpl implements InternalTable {\n\n    private _colgroup = util.createElement('colgroup');\n    private _tbody = util.createElement('tbody');\n\n    private table = util.createElement('table', {\n        attrs : { cellspacing : '0' },\n        style : {\n          tableLayout : 'fixed', position : 'absolute', lineHeight : '1'\n        }\n      }, <HTMLElement[]>[ this._colgroup, this._tbody ]);\n    private view = util.createElement('div', {\n      style : { overflow : 'hidden', position : 'relative' },\n      on : { scroll : (event) => {\n         this.view.scrollLeft = 0;  this.view.scrollTop = 0; } }\n    }, [ this.table ]);\n\n    private getOrCrt(tagName : string, index : number,\n        parent : ElmCache, init? : (elm : ElmCache) => void ) {\n      if (parent.children && index < parent.children.length) {\n        return parent.children[index];\n      }\n      if (!parent.children) {\n        parent.children = [];\n      }\n      var elm : ElmCache = { $el : document.createElement(tagName) };\n      if (init) {\n        init(elm);\n      }\n      parent.$el.appendChild(elm.$el);\n      parent.children.push(elm);\n      return elm;\n    }\n\n    private getCellStyle(cell : TableCellStyle) : ElementOptions {\n      return {\n        attrs : { 'class' : cell.className },\n        style : {\n          textAlign : cell.textAlign,\n          verticalAlign : cell.verticalAlign,\n          color : cell.color,\n          backgroundColor : cell.backgroundColor,\n          fontWeight : cell.fontWeight,\n          borderLeft : cell.borderLeft,\n          borderRight : cell.borderRight,\n          borderTop : cell.borderTop,\n          borderBottom : cell.borderBottom\n        }\n      };\n    }\n    public $el = this.view;\n    public colgroup : ElmCache = { $el : this._colgroup };\n    public tbody : ElmCache = { $el : this._tbody };\n    public left = 0;\n    public top = 0;\n    public model : TableModel = null;\n    public tableState = createTableState();\n\n    public offsetCache : OffsetCache = null;\n    public beforeCellSizeChangeHandler : EventListener = null;\n    public calcCellPosition(left : number, top : number) {\n\n      var tableModel : TableModel = this.model;\n\n      // offset cache\n      if (this.beforeCellSizeChangeHandler == null) {\n        this.beforeCellSizeChangeHandler = (event : Event, detail : any) => {\n          // note: 'this' bind to inner-table's.\n          this.offsetCache = null;\n        };\n      }\n      tableModel.off('beforecellsizechange', this.beforeCellSizeChangeHandler);\n      tableModel.on('beforecellsizechange', this.beforeCellSizeChangeHandler);\n      this.offsetCache = this.offsetCache || { left : {}, top : {} };\n      var prec = 1000;\n      var offsetLeftCache : {[i : number] : number} = this.offsetCache.left;\n      var offsetTopCache : {[i : number] : number} = this.offsetCache.top;\n      var offsetLeft = 0;\n      var offsetTop = 0;\n\n      var rowCount = tableModel.getRowCount();\n      var columnCount = tableModel.getColumnCount();\n      var cellWidth = 0;\n      var cellHeight = 0;\n      var col = 0;\n      var row = 0;\n\n      var leftCache : { col : number, offset : number } = null;\n      var topCache : { row : number, offset : number } = null;\n      for (var i = 0; typeof offsetLeftCache[i] == 'number'; i += prec) {\n        if (left + offsetLeftCache[i] <= 0) {\n          leftCache = { col : i, offset : offsetLeftCache[i] };\n        }\n      }\n      for (var i = 0; typeof offsetTopCache[i] == 'number'; i += prec) {\n        if (top + offsetTopCache[i] <= 0) {\n          topCache = { row : i, offset : offsetTopCache[i] };\n        }\n      }\n      if (leftCache) {\n        col = leftCache.col;\n        left += leftCache.offset;\n        offsetLeft += leftCache.offset;\n      }\n      if (topCache) {\n        row = topCache.row;\n        top += topCache.offset;\n        offsetTop += topCache.offset;\n      }\n\n      for (; col < columnCount; col += 1,\n          left += cellWidth, offsetLeft += cellWidth) {\n        if (col % prec == 0) {\n          offsetLeftCache[col] = offsetLeft;\n        }\n        cellWidth = tableModel.getCellWidthAt(col);\n        if (left + cellWidth <= 0) {\n          continue;\n        }\n        break;\n      }\n      for (; row < rowCount; row += 1,\n          top += cellHeight, offsetTop += cellHeight) {\n        if (row % prec == 0) {\n          offsetTopCache[row] = offsetTop;\n        }\n        cellHeight = tableModel.getCellHeightAt(row);\n        if (top + cellHeight <= 0) {\n          continue;\n        }\n        break;\n      }\n      if (row < rowCount && col < columnCount) {\n        var spaned = tableModel.checkSpaned(row, col);\n        if (spaned) {\n          while (row > spaned.row) {\n            row -= 1;\n            top -= tableModel.getCellHeightAt(row);\n          }\n          while (col > spaned.col) {\n            col -= 1;\n            left -= tableModel.getCellWidthAt(col);\n          }\n        }\n      }\n      return { left : left, col : col, top : top, row : row };\n    }\n\n    private preRender() {\n\n      var width = this.rect.width;\n      var height = this.rect.height;\n      var rowCount = this.model.getRowCount();\n      var columnCount = this.model.getColumnCount();\n\n      var cellPos = this.calcCellPosition(this.left, this.top);\n\n      var tableState = createTableState();\n      tableState.top = cellPos.top;\n      tableState.minRow = cellPos.row;\n      tableState.left = cellPos.left;\n      tableState.minCol = cellPos.col;\n\n      var top = cellPos.top;\n      var row = cellPos.row;\n      var trIndex = 0;\n      while (row < rowCount && top < height) {\n        var cellHeight = this.model.getCellHeightAt(row);\n        var tr = this.getOrCrt('tr', trIndex, this.tbody);\n        tr.$el.style.height = cellHeight + 'px';\n        tr.$el.style.display = '';\n        tableState.height += cellHeight;\n        top += cellHeight;\n        row += 1;\n        trIndex += 1;\n      }\n      for (;trIndex < this._tbody.childNodes.length; trIndex += 1) {\n        (<HTMLElement>this._tbody.childNodes[trIndex]).style.display = 'none';\n      }\n      tableState.maxRow = Math.min(rowCount, tableState.minRow +\n          (this.tbody.children? this.tbody.children.length : 0) ) - 1;\n\n      var left = cellPos.left;\n      var col = cellPos.col;\n      var colIndex = 0;\n      while (col < columnCount && left < width) {\n        var cellWidth = this.model.getCellWidthAt(col);\n        this.getOrCrt('col', colIndex, this.colgroup).\n          $el.style.width = cellWidth + 'px';\n        tableState.width += cellWidth;\n        left += cellWidth;\n        col += 1;\n        colIndex += 1;\n      }\n      for (;colIndex < this._colgroup.childNodes.length; colIndex += 1) {\n        (<HTMLElement>this._colgroup.childNodes[colIndex]).style.width = '0px';\n      }\n      tableState.maxCol = Math.min(columnCount, tableState.minCol +\n          (this.colgroup.children? this.colgroup.children.length : 0) ) - 1;\n\n      return tableState;\n    }\n    private rect : Rect;\n    public setBounds(rect : Rect) {\n      this.rect = rect;\n      util.extend(this.$el.style, {\n        left : rect.left + 'px', top : rect.top + 'px',\n        width : rect.width + 'px', height : rect.height + 'px' });\n    }\n    public render(cellStyleOnly : boolean) {\n\n      var tableState = this.preRender();\n      var spaned : { [id : string] : boolean } = {};\n\n      var setSpaned = function(row : number, col : number,\n          td : HTMLTableDataCellElement, cell : TableCellStyle) {\n        td.rowSpan = cell.rowSpan;\n        td.colSpan = cell.colSpan;\n        if (cell.rowSpan == 1 && cell.colSpan == 1) {\n          return;\n        }\n        for (var r = 0; r < cell.rowSpan; r += 1) {\n          for (var c = 0; c < cell.colSpan; c += 1) {\n            if (r != 0 || c != 0) {\n              var id = util.getCellId(row + r, col + c);\n              spaned[id] = true;\n            }\n          }\n        }\n      };\n\n      var tableModel : TableModel = this.model;\n      var initCell = function(td : ElmCache) {\n        td.opts = { attrs : {}, style : {}, props : {} };\n        td.renderer = null;\n        td.tableModel = tableModel;\n        td.$el.style.overflow = 'hidden';\n        td.$el.style.whiteSpace = 'nowrap';\n        td.$el.style.position = 'relative';\n      };\n\n      for (var row = tableState.minRow; row <= tableState.maxRow; row += 1) {\n\n        var trIndex = row - tableState.minRow;\n        var tr = this.tbody.children[trIndex];\n\n        var tdIndex = 0;\n        for (var col = tableState.minCol; col <= tableState.maxCol; col += 1) {\n\n          var id = util.getCellId(row, col);\n          if (spaned[id]) {\n            continue;\n          }\n          tableState.indexById[id] = { trIndex : trIndex, tdIndex : tdIndex };\n\n          var td = this.getOrCrt('td', tdIndex, tr, initCell);\n          td.row = row;\n          td.col = col;\n\n          var cell = tableModel.getCellAt(row, col);\n          setSpaned(row, col, <HTMLTableDataCellElement>td.$el, cell);\n\n          var factory = tableModel.getCellRendererFactoryAt(row, col);\n          if (td.factory != factory) {\n            td.factory = factory;\n            if (td.renderer) {\n              td.renderer.dispose();\n            }\n\n            while (td.$el.firstChild) {\n              td.$el.removeChild(td.$el.firstChild);\n            }\n\n            td.renderer = renderer.attachTooltipFeature(\n              <TdWrapper>td, td.factory(<TdWrapper>td) );\n          }\n\n          applyCellStyle(td, this.getCellStyle(cell) );\n          if (td.renderer.getCellStyle) {\n            applyCellStyle(td, td.renderer.getCellStyle(cell) );\n          }\n\n          if (!cellStyleOnly) {\n            td.renderer.render(cell);\n          }\n\n          tdIndex += 1;\n        }\n      }\n\n      util.extend(this.table.style, {\n        left : tableState.left + 'px',\n        top : tableState.top + 'px',\n        width : tableState.width + 'px',\n        height : tableState.height + 'px'\n      });\n\n      this.tableState = tableState;\n    }\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\n/// <reference path=\"UIEventTarget.ts\" />\n\nnamespace comfortable {\n\n  export interface List<T,C extends ListCell> extends UIEventTarget {\n    $el : HTMLElement;\n    getItemAt : (index : number) => T;\n    getItemCount : () => number;\n    createCell : () => C;\n    renderCell : (cell : C, item : T) => void;\n    cellHeight : number;\n  }\n\n  export interface ListCell {\n    $el : HTMLElement;\n    row : number;\n  }\n\n  /**\n   * @internal\n   */\n  export class ListImpl<T,C extends ListCell>\n  extends UIEventTargetImpl implements List<T,C> {\n\n    private listContent = util.createElement('div', {\n      style : { position : 'absolute' } });\n    private list = { $el :  util.createElement('div', {\n      style : { position : 'absolute',\n        overflow : 'hidden', whiteSpace:'nowrap' } }, [ this.listContent ]) };\n\n    private scr = util.createElement('div', {\n      style : { position : 'absolute' } });\n\n    private viewPane = util.createElement('div', {\n        style : { position : 'absolute',\n          overflowX : 'hidden', overflowY : 'auto' },\n        on : { scroll : (event) => { this.render(); } }\n      }, [this.scr]);\n  \n    private frame = util.createElement('div', {\n        style : { position : 'relative', overflow : 'hidden',\n          width : '100px', height : '100px' },\n        on : {\n          wheel : (event) => {\n            this.viewPane.scrollLeft += event.deltaX;\n            this.viewPane.scrollTop += event.deltaY;\n          }\n        } },[ this.viewPane, this.list.$el ]);\n\n    private cells : C[] = [];\n    private getOrCrt(index : number) {\n      if (index < this.cells.length) {\n        return this.cells[index];\n      }\n      var cell = this.createCell();\n      this.listContent.appendChild(cell.$el);\n      this.cells.push(cell);\n      return cell;\n    };\n\n    public $el = this.frame;\n    public getItemAt(index : number) : T { return <any>'item' + index; }\n    public getItemCount() { return 100000; }\n    public createCell() : C {\n      return <any>{ $el : util.createElement('div', {\n        props : { textContent : 'M' },\n        style : { borderBottom : '1px solid silver' }\n      }), row : -1 };\n    }\n    public renderCell(cell : C, item : T) {\n      cell.$el.textContent = <any>item;\n    }\n    public cellHeight = -1;\n    public render() {\n\n      util.set(this.viewPane, { style : {\n        left : '0px', top : '0px',\n        width : this.$el.offsetWidth + 'px',\n        height : this.$el.offsetHeight + 'px'\n      } });\n\n      if (this.cellHeight == -1) {\n        this.cellHeight = this.getOrCrt(0).$el.offsetHeight;\n      }\n      var viewHeight = this.cellHeight * this.getItemCount();\n      var scrHeight = Math.min(viewHeight, 1E6);\n\n      var listTop = -(scrHeight > this.viewPane.clientHeight?\n          util.translate(this.viewPane.scrollTop,\n          0, scrHeight - this.viewPane.clientHeight,\n          0, viewHeight - this.viewPane.clientHeight,\n          'list.top') : 0);\n\n      var minRow = Math.floor(-listTop / this.cellHeight);\n      var maxRow = Math.min(this.getItemCount() - 1,\n          Math.floor( (-listTop + this.viewPane.clientHeight) / this.cellHeight) );\n      var top = listTop + minRow * this.cellHeight;\n\n      util.set(this.listContent, { style : { left : '0px', top : top + 'px' } });\n\n      var cellIndex = 0;\n      for (var row = minRow; row <= maxRow; row += 1) {\n        var cell = this.getOrCrt(cellIndex);\n        cell.row = row;\n        cell.$el.style.display = '';\n        this.renderCell(cell, this.getItemAt(row) );\n        cellIndex += 1;\n      }\n      for (; cellIndex < this.cells.length; cellIndex += 1) {\n        this.cells[cellIndex].$el.style.display = 'none';\n      }\n\n      util.set(this.scr, { style : {\n        left : '0px', top : '0px',\n        width : this.$el.offsetWidth + 'px',\n        height : scrHeight + 'px'\n      } });\n\n      util.set(this.list.$el, { style : {\n        whiteSpace : 'nowrap',\n        width : this.viewPane.clientWidth + 'px',\n        height : this.viewPane.clientHeight + 'px'\n      } });\n\n      this.trigger('rendered', {\n        listState : { minRow : minRow, maxRow : maxRow } } );\n    }\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.renderer {\n\n  export class CheckBox implements CellEditor<HTMLInputElement> {\n\n    private booleanValues : any[] = null;\n    private defaultValue : any;\n\n    private tableModel : TableModel;\n    private cell : TableCell;\n\n    constructor() {\n    }\n\n    public $el = <HTMLInputElement>util.createElement('input', {\n      attrs : { type : 'checkbox', 'class' : '${prefix}-editor',\n        tabindex : '-1' },\n      on : {\n        blur : (event) => {\n          this.tableModel.trigger('valuecommit', this.cell);\n        },\n        keydown : (event) => {\n\n          if (!this.cell.editable) {\n            return;\n          }\n\n          switch(event.keyCode) {\n          case 27: // Esc\n            this.setValue(this.defaultValue);\n            break;\n          }\n        }\n      }\n    });\n\n    public setVisible(visible : boolean) {\n      this.$el.style.display = visible? '' : 'none';\n    }\n\n    public beginEdit(td : TdWrapper, cell : CheckBoxCell) {\n\n      this.tableModel = td.tableModel;\n      this.cell = cell;\n\n      var cs = window.getComputedStyle(td.$el, null);\n      util.set(this.$el, {\n        props : { disabled : !cell.editable },\n        style : {\n        }\n      });\n      this.booleanValues = cell.booleanValues || [false, true];\n    }\n    public focus() {\n      this.$el.focus();\n      this.$el.select();\n    }\n    public blur() {\n      this.$el.blur();\n    }\n    public setValue(value : any) {\n      this.defaultValue = value;\n      this.$el.checked = (value === this.booleanValues[1]);\n    }\n    public getValue() {\n      return this.booleanValues[this.$el.checked? 1 : 0];\n    }\n    public isValid() {\n      return true;\n    }\n  }\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.renderer {\n\n  export class SelectBox implements CellEditor<HTMLSelectElement> {\n\n    private defaultValue : any;\n    private lastOptions : any[];\n\n    private tableModel : TableModel;\n    private cell : TableCell;\n\n    constructor() {\n    }\n\n    public $el = <HTMLSelectElement>util.createElement('select', {\n      attrs : { 'class' : '${prefix}-editor' },\n      on : {\n        blur : (event) => {\n          this.tableModel.trigger('valuecommit', this.cell);\n        },\n        keydown : (event) => {\n\n          if (!this.cell.editable) {\n            return;\n          }\n\n          switch(event.keyCode) {\n          case 27: // Esc\n            this.setValue(this.defaultValue);\n            break;\n          }\n        }\n      }\n    });\n\n    public setVisible(visible : boolean) {\n      this.$el.style.display = visible? '' : 'none';\n    }\n\n    public beginEdit(td : TdWrapper, cell : SelectBoxCell) {\n\n      this.tableModel = td.tableModel;\n      this.cell = cell;\n\n      var cs = window.getComputedStyle(td.$el, null);\n      util.set(this.$el, {\n        props : { disabled : !cell.editable },\n        style : {\n          textAlign : cs.textAlign,\n          verticalAlign : cs.verticalAlign,\n          color : cs.color,\n          backgroundColor : cs.backgroundColor,\n          fontFamily : cs.fontFamily,\n          fontSize : cs.fontSize,\n          fontWeight : cs.fontWeight\n        }\n      });\n\n      var options = SelectBox.getOptions(cell);\n      var labelField = cell.labelField || 'label';\n      var valueField = cell.valueField || 'value';\n\n      var changed = function() {\n        if (!this.lastOptions || this.lastOptions.length != options.length) {\n          return true;\n        }\n        for (var i = 0; i < options.length; i += 1) {\n          var option = options[i];\n          var lastOption = this.lastOptions[i];\n          if (option[labelField] != option[labelField] ||\n              option[valueField] != option[valueField]) {\n            return true;\n          }\n        }\n        return false;\n      }.bind(this)();\n\n      if (changed) {\n        while (this.$el.childNodes.length < options.length) {\n          this.$el.appendChild(util.createElement('option') );\n        }\n        var i = 0;\n        for (; i < options.length; i += 1) {\n          var option = options[i];\n          util.set(this.$el.childNodes[i], {\n            style : { display : '' },\n            props : { textContent : option[labelField],\n              value : option[valueField] || '' }\n          });\n        }\n        while (this.$el.childNodes.length > options.length) {\n          this.$el.removeChild(this.$el.lastChild);\n        }\n        // IE9 does not support style.display=none for option.\n        /*\n        for (;i < select.childNodes.length; i += 1) {\n          select.childNodes[i].style.display = 'none';\n        }\n        */\n\n        this.lastOptions = options;\n      }\n    }\n    public focus() {\n      this.$el.focus();\n    }\n    public blur() {\n      this.$el.blur();\n    }\n    public setValue(value : any) {\n      this.defaultValue = value;\n      this.$el.value = value || '';\n    }\n    public getValue() {\n      return this.$el.value;\n    }\n    public isValid() {\n      return true;\n    }\n\n    public static getOptions(cell : SelectBoxCell) : any[] {\n      var options : any = cell.options;\n      if (typeof options == 'function') {\n        options = options(cell.row, cell.col);\n      }\n      return options || [];\n    }\n  }\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.renderer {\n\n  export var createTextEditorDateField =\n      function(editor : TextEditor) : TextEditorDelegator {\n\n    var getDate = function() : Date {\n      if (editor.isValid() ) {\n        var value = <string>editor.getValue();\n        if (value) {\n          return new Date(\n            +value.substring(0, 4),\n            +value.substring(4, 6) - 1,\n            +value.substring(6, 8) );\n        }\n      }\n      return null;\n    };\n\n    var setSelectedDate = (date : Date) => {\n      editor.textfield.value = util.formatDate(util.parseDate(date) );\n    };\n\n    var rollDate = (offset : number) => {\n      var date = getDate();\n      if (date) {\n        date.setDate(date.getDate() + offset);\n        setSelectedDate(date);\n      }\n    };\n\n    util.set(editor.textfield, {\n      style : { flex: '1 1 0%' },\n        on : {\n          keydown : (event) => {\n\n          if (!editor.cell.editable) {\n            return;\n          }\n\n          var canceled = false;\n          switch(event.keyCode) {\n          case 27: // Esc\n            // fall through.\n            canceled = true;\n          case 13: // Enter\n            if (cal) {\n              event.preventDefault();\n              event.stopPropagation();\n              hideCal();\n              editor.textfield.select();\n            } else {\n              if (canceled) {\n                editor.setValue(editor.defaultValue);\n              }\n            }\n            break;\n          case 32: // Space\n            event.preventDefault();\n            if (cal) {\n            } else {\n              showCal();\n            }\n            break;\n          case 37: // Left\n            if (cal != null) {\n              event.preventDefault();\n              cal.rollDate(-1);\n              setSelectedDate(cal.getSelectedDate() );\n            }\n            break;\n          case 38: // Up\n            event.preventDefault();\n            if (cal != null) {\n              cal.rollDate(-7);\n              setSelectedDate(cal.getSelectedDate() );\n            } else {\n              rollDate(-1);\n              editor.textfield.select();\n            }\n            break;\n          case 39: // Right\n            if (cal != null) {\n              event.preventDefault();\n              cal.rollDate(1);\n              setSelectedDate(cal.getSelectedDate() );\n            }\n            break;\n          case 40: // Down\n            event.preventDefault(); \n            if (cal != null) {\n              cal.rollDate(7);\n              setSelectedDate(cal.getSelectedDate() );\n            } else {\n              rollDate(1);\n              editor.textfield.select();\n            }\n            break;\n          default:\n            break;\n          }\n        },\n        blur : function() {\n          hideCal();\n        }\n      }\n    });\n\n    var cal : any = null;\n\n    var mousedownHandler = function(event : any) {\n      if (cal && util.closest(event.target, { $el: cal.$el }) ) {\n      } else if (util.closest(event.target, { $el: button }) ) {\n      } else {\n        hideCal();\n      }\n    };\n    var showCal = function() {\n      if (cal) {\n        hideCal();\n      }\n      cal = ui.createCalendar(getDate() || new Date() )\n        .on('click', function(event : any, date : Date) {\n          setSelectedDate(date);\n          hideCal();\n        });\n      editor.enableEvent = false;\n      var off = util.offset(editor.textfield);\n      util.set(cal.$el, { style: {\n        position: 'absolute',\n        left : off.left + 'px',\n        top : (off.top + editor.textfield.offsetHeight) + 'px' } });\n      document.body.appendChild(cal.$el);\n      util.$(document).on('mousedown', mousedownHandler);\n    };\n    var hideCal = function() {\n      if (cal) {\n        document.body.removeChild(cal.$el);\n        util.$(document).off('mousedown', mousedownHandler);\n        cal = null;\n        editor.enableEvent = true;\n      }\n    };\n    var button = util.createElement('span', {\n      attrs : { 'class' : '${prefix}-cal-icon-button' },\n      on : {\n        mousedown : function(event) {\n          event.preventDefault();\n        },\n        click : (event) => {\n          if (!editor.cell.editable) {\n            return;\n          }\n          if (cal) {\n            hideCal();\n          } else {\n            showCal() ;\n          }\n        }\n      }\n    }, [ ui.createCalIcon(), ui.createSpacer() ]);\n\n    var setValue = function(value : any)  {\n      value = util.formatDate(value);\n      editor.textfield.value = (value === null)? '' : value;\n    };\n    var getValue = function() : any  {\n      return util.parseDate(\n          util.toNarrowNumber(editor.textfield.value) );\n    };\n    var visibleState = 'flex';\n\n    return {\n      body : util.createElement('div', {\n          style : { display: visibleState,\n            width: '100%', height: '100%' }\n        }, [ editor.textfield, button ] ),\n      button : button,\n      setValue : setValue,\n      getValue : getValue,\n      visibleState : visibleState\n    };\n  }\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.renderer {\n\n  /**\n   * @internal\n   */\n  export interface OptionsData {\n    selectedIndex : number;\n    options : any[];\n    labelField : string;\n    valueField : string;\n  }\n\n  export var createTextEditorSelectBox =\n      function(editor : TextEditor) : TextEditorDelegator {\n\n    var setSelectedIndex = (index : number) => {\n      optionsData.selectedIndex = index;\n      editor.textfield.value = index == -1? '' :\n        optionsData.options[index][optionsData.labelField];\n    };\n    var rollIndex = (offset : number) => {\n      var index = Math.max(0,\n        Math.min(optionsData.selectedIndex + offset,\n          optionsData.options.length - 1) );\n      if (0 <= index && index < optionsData.options.length) {\n        setSelectedIndex(index);\n      } else {\n        setSelectedIndex(-1);\n      }\n    };\n\n    util.set(editor.textfield, {\n      style : { flex: '1 1 0%' },\n      on : {\n        keydown : (event) => {\n\n          if (!editor.cell.editable) {\n            return;\n          }\n\n          var canceled = false;\n          switch(event.keyCode) {\n          case 27: // Esc\n            // fall through.\n            canceled = true;\n          case 13: // Enter\n            if (options) {\n              event.preventDefault();\n              event.stopPropagation();\n              hideOptions();\n              editor.textfield.select();\n            } else {\n              if (canceled) {\n                editor.setValue(editor.defaultValue);\n              }\n            }\n            break;\n          case 32: // Space\n            event.preventDefault();\n            if (options) {\n            } else {\n              showOptions();\n            }\n            break;\n          case 37: // Left\n            break;\n          case 38: // Up\n            event.preventDefault();\n            if (options != null) {\n              options.rollIndex(-1);\n              setSelectedIndex(options.getSelectedIndex() );\n            } else {\n              rollIndex(-1);\n              editor.textfield.select();\n            }\n            break;\n          case 39: // Right\n            break;\n          case 40: // Down\n            event.preventDefault(); \n            if (options != null) {\n              options.rollIndex(1);\n              setSelectedIndex(options.getSelectedIndex() );\n            } else {\n              rollIndex(1);\n              editor.textfield.select();\n            }\n            break;\n          default:\n            break;\n          }\n        },\n        blur : function() {\n          hideOptions();\n        }\n      }\n    });\n\n    var options : any = null;\n    var optionsData : OptionsData = null;\n\n    var mousedownHandler = function(event : any) {\n      if (options && util.closest(event.target, { $el: options.$el }) ) {\n      } else if (util.closest(event.target, { $el: button }) ) {\n      } else {\n        hideOptions();\n      }\n    };\n    var showOptions = function() {\n\n      if (options) {\n        hideOptions();\n      }\n\n      options = ui.createOptions(optionsData)\n        .on('click', function(event : any, detail : any) {\n          setSelectedIndex(detail.index);\n          hideOptions();\n        });\n      editor.enableEvent = false;\n      var target = editor.$el;\n      var off = util.offset(target);\n      util.set(options.$el, { style: {\n        position: 'absolute',\n        left : off.left + 'px',\n        top : (off.top + target.offsetHeight) + 'px',\n        minWidth : target.offsetWidth + 'px',\n        maxHeight : '200px' } });\n      document.body.appendChild(options.$el);\n      util.$(document).on('mousedown', mousedownHandler);\n      // force updateUI\n      options.rollIndex(0);\n    };\n    var hideOptions = function() {\n      if (options) {\n        document.body.removeChild(options.$el);\n        util.$(document).off('mousedown', mousedownHandler);\n        options = null;\n        editor.enableEvent = true;\n      }\n    };\n    var button = util.createElement('span', {\n      attrs : { 'class' : '${prefix}-options-icon-button' },\n      on : {\n        mousedown : function(event) {\n          event.preventDefault();\n        },\n        click : (event) => {\n          if (!editor.cell.editable) {\n            return;\n          }\n          if (options) {\n            hideOptions();\n          } else {\n            showOptions() ;\n          }\n        }\n      }\n    }, [ ui.createOptionsIcon(), ui.createSpacer() ]);\n\n    var setValue = function(value : any)  {\n      var selectedIndex = -1;\n      for (var i = 0; i < optionsData.options.length; i += 1) {\n        var option = optionsData.options[i];\n        if (selectedIndex == -1 &&\n            option[optionsData.valueField] === value) {\n          selectedIndex = i;\n        }\n      }\n      setSelectedIndex(selectedIndex);\n    };\n    var getValue = function() : any  {\n      return optionsData.selectedIndex == -1? null :\n        optionsData.options[optionsData.selectedIndex]\n        [optionsData.valueField];\n    };\n    var visibleState = 'flex';\n    var beginEdit = function(td : TdWrapper, cell : SelectBoxCell) {\n      optionsData = {\n        selectedIndex : -1,\n        options : SelectBox.getOptions(cell),\n        labelField : cell.labelField || 'label',\n        valueField : cell.valueField || 'value'\n      };\n    };\n\n    return {\n      body : util.createElement('div', {\n          style : { display: visibleState,\n            width: '100%', height: '100%' }\n        }, [ editor.textfield, button ] ),\n      button : button,\n      setValue : setValue,\n      getValue : getValue,\n      visibleState : visibleState,\n      readOnlyText : true,\n      beginEdit : beginEdit\n    };\n  }\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.renderer {\n\n  /**\n   * @internal\n   */\n  export interface TextEditorDelegator {\n    body : HTMLElement;\n    button : HTMLElement;\n    getValue() : any;\n    setValue(value : any) : void;\n    visibleState : string;\n    readOnlyText? : boolean;\n    beginEdit? : (td : TdWrapper, cell : TableCell) => void;\n  }\n\n  export class TextEditor implements CellEditor<HTMLElement> {\n\n    private lastStyle : any;\n\n    public defaultValue : any;\n    private valueType : string;\n\n    private tableModel : TableModel;\n    public cell : TableCell;\n\n    public $el : HTMLElement;\n    public textfield : HTMLInputElement;\n    public enableEvent = true;\n\n    private dataType : string;\n    private decimalDigits : number;\n    private delegator : TextEditorDelegator;\n\n    constructor(dataType : string) {\n\n      this.dataType = dataType;\n\n      this.lastStyle = {};\n\n      if (dataType == 'multi-line-string') {\n        this.textfield = <HTMLInputElement>util.createElement('textarea', {\n          attrs : { 'class' : '${prefix}-editor', rows : '1',\n            tabindex : '-1' },\n          on : {\n            blur : (event) => {\n              this.tableModel.trigger('valuecommit', this.cell);\n            },\n            keydown : (event) => {\n              if (event.keyCode == 13) { // Enter\n                event.stopPropagation();\n              }\n            }\n          }\n        });\n      } else {\n        this.textfield = <HTMLInputElement>util.createElement('input', {\n          attrs : { type : 'text', 'class' : '${prefix}-editor',\n            tabindex : '-1' },\n          on : { blur : (event) => {\n            if (this.enableEvent) {\n              this.tableModel.trigger('valuecommit', this.cell); } }\n            }\n        });\n      }\n\n      if (dataType == 'date') {\n\n        var df = createTextEditorDateField(this);\n\n        this.$el = df.body;\n        this.delegator = df;\n\n      } else if (dataType == 'select-one') {\n\n        var sb = createTextEditorSelectBox(this);\n\n        this.$el = sb.body;\n        this.delegator = sb;\n\n      } else {\n\n        util.set(this.textfield, {\n          on : { keydown : (event) => {\n\n            if (!this.cell.editable) {\n              return;\n            }\n\n            switch(event.keyCode) {\n            case 27: // Esc\n              this.setValue(this.defaultValue);\n              break;\n            }\n          } }\n        });\n\n        this.$el = this.textfield;\n        this.delegator = null;\n      }\n    }\n\n    public setVisible(visible : boolean) {\n      if (this.delegator) {\n        this.$el.style.display = visible?\n          this.delegator.visibleState : 'none';\n      } else {\n        this.$el.style.display = visible? '' : 'none';\n      }\n    }\n\n    public beginEdit(td : TdWrapper, cell : TextEditorCell) {\n\n      this.tableModel = td.tableModel;\n      this.cell = cell;\n      this.decimalDigits = cell.decimalDigits;\n\n      var imeMode = '';\n      if (typeof cell.imeMode == 'string') {\n        imeMode = cell.imeMode;\n      } else {\n        if (this.dataType == 'number' ||\n            this.dataType == 'date' ||\n            this.dataType == 'select-one') {\n          imeMode = 'disabled';\n        }\n      }\n\n        delete this.textfield.maxLength;\n      if (typeof cell.maxLength == 'number') {\n        this.textfield.maxLength = cell.maxLength;\n      }\n\n      var readOnly = !cell.editable;\n      if (this.delegator && this.delegator.readOnlyText) {\n        // force readOnly\n        readOnly = true;\n      }\n\n      var cs = window.getComputedStyle(td.$el, null);\n      var opts : ElementOptions = {\n          props : { readOnly : readOnly },\n          style : this.getChangedStyle({\n            imeMode : imeMode,\n            textAlign : cs.textAlign,\n            verticalAlign : cs.verticalAlign,\n            color : cs.color,\n            backgroundColor : 'transparent',\n            fontFamily : cs.fontFamily,\n            fontSize : cs.fontSize,\n            fontWeight : cs.fontWeight,\n            outline : cell.editable? '' : 'none'\n          })\n        };\n      util.set(this.textfield, opts);\n      if (this.delegator) {\n        this.delegator.button.style.opacity = cell.editable? '' : '0.5';\n        if (this.delegator.beginEdit) {\n          this.delegator.beginEdit(td, cell);\n        }\n      }\n    }\n    private getChangedStyle(style : any) : any {\n      var changed : any = {};\n      for (var k in style) {\n        var v = style[k];\n        if (this.lastStyle[k] !== v) {\n          this.lastStyle[k] = changed[k] = v;\n        }\n      }\n      return changed;\n    }\n    public focus() {\n      this.textfield.focus();\n      this.textfield.select();\n    }\n    public blur() {\n      this.textfield.blur();\n      // deselect\n      var value =  this.textfield.value;\n      this.textfield.value = '';\n      this.textfield.value = value;\n    }\n    public setValue(value : any) {\n      this.defaultValue = value;\n      this.valueType = typeof value;\n      if (this.delegator) {\n        this.delegator.setValue(value);\n      //} else if (this.opts.dataType == 'number') {\n      } else {\n        this.textfield.value = (value === null)? '' : value;\n      }\n    }\n    public getValue() {\n      if (this.defaultValue === null && this.textfield.value == '') {\n        return null;\n      } else if (this.delegator) {\n        return this.delegator.getValue();\n      } else if (this.dataType == 'number') {\n        var value = util.formatNumber(\n            util.toNarrowNumber(this.textfield.value),\n            this.decimalDigits, '');\n        return this.valueType == 'number'? +value : value;\n      } else {\n        return util.rtrim(this.textfield.value);\n      }\n    }\n    public isValid() {\n      if (this.dataType == 'number') {\n        return !!('' + this.getValue() ).match(util.numRe);\n      } else if (this.dataType == 'date') {\n        return !!('' + this.getValue() ).match(/^(\\d{8})?$/);\n      }\n      return true;\n    }\n  }\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.renderer {\n\n  interface Tooltip {\n    $el : HTMLElement;\n    text : string;\n    show : (text : string) => void;\n    dispose : () => void;\n  }\n\n  var createTooltip = function(td : TdWrapper) : Tooltip {\n    var size = 6;\n    var tooltip : { dispose : () => void } = null;\n    var mouseoverHandler = function(event : any) {\n      if (!mark.text) {\n        return;\n      }\n      dispose();\n      tooltip = showTooltip(td, mark.text);\n    };\n    var mouseoutHandler = function(event : any) {\n      dispose();\n    };\n    var dispose = function() {\n      if (tooltip) {\n        tooltip.dispose();\n        tooltip = null;\n      }\n    };\n    util.$(td.$el)\n      .on('mouseover', mouseoverHandler)\n      .on('mouseout', mouseoutHandler);\n    var mark = {\n      $el : util.createSVGElement('svg', {\n        style : { position : 'absolute', right : '0px', top : '0px'},\n        attrs : { width : '' + size, height : '' + size,\n          tabindex: '-1', focusable: 'false',\n          'class' : '${prefix}-tooltip-corner' } }, [\n        util.createSVGElement('path', {\n          attrs : { d : 'M0 0L' + size + ' 0L' + size + ' ' + size + 'Z' }\n        })\n      ]),\n      text : '',\n      show : function(text : string) {\n        this.text = text;\n        this.$el.style.display = text? '' : 'none';\n      },\n      dispose : function() {\n        util.$(td.$el)\n          .off('mouseover', mouseoverHandler)\n          .off('mouseout', mouseoutHandler);\n        dispose();\n      }\n    };\n    return mark;\n  };\n\n  var calcOffset = function(td : TdWrapper) {\n    var off = util.offset(td.$el);\n    var frame = util.closest(td.$el, { tagName : 'DIV' });\n    var frameOff = util.offset(frame);\n    var offsetWidth = td.$el.offsetWidth;\n    var displayWidth = offsetWidth;\n    /*\n    if (off.left + displayWidth > frameOff.left + frame.offsetWidth) {\n      displayWidth = frameOff.left + frame.offsetWidth - off.left;\n    }\n    */\n    return {\n      left : off.left,\n      top : off.top,\n      offsetWidth : offsetWidth,\n      displayWidth : displayWidth\n    };\n  };\n\n  var showTooltip = function(td : TdWrapper, text : string) {\n\n    var barW = 10;\n    var barH = 6;\n\n    var off = calcOffset(td);\n\n    var box = util.createElement('div', {\n      style : { position : 'absolute' },\n      attrs : { 'class' : '${prefix}-tooltip-box' } });\n    createMultiLineLabelRenderer(box).setLabel(text);\n    document.body.appendChild(box);\n\n    var rblt = off.left + off.displayWidth + barW + box.offsetWidth <\n      document.documentElement.scrollLeft + window.innerWidth;\n    var bar = util.createSVGElement('svg', {\n        style : { position : 'absolute' },\n        attrs : { 'class' : '${prefix}-tooltip-bar',\n          width : '' + barW, height : '' + barH,\n          tabindex: '-1', focusable: 'false' } },\n      [ util.createSVGElement('path', {\n          attrs : { d : rblt?\n            'M0 ' + barH + 'L' + barW + ' 0' :\n            'M0 0L' + barW + ' ' + barH } }) ]);\n    document.body.appendChild(bar);\n\n    var cs = window.getComputedStyle(box, null);\n    bar.style.stroke = cs.borderColor || cs.borderBottomColor;\n    bar.style.fill = 'none';\n\n    if (rblt) {\n      box.style.left = (off.left + off.displayWidth + barW - 1) + 'px';\n      box.style.top = (off.top - barH + 1) + 'px';\n      bar.style.left = (off.left + off.displayWidth) + 'px';\n      bar.style.top = (off.top - barH + 1) + 'px';\n    } else {\n      box.style.left = (off.left + off.displayWidth - barW - box.offsetWidth + 1) + 'px';\n      box.style.top = (off.top - barH - box.offsetHeight + 1) + 'px';\n      bar.style.left = (off.left + off.displayWidth - barW) + 'px';\n      bar.style.top = (off.top - barH + 1) + 'px';\n    }\n\n    return {\n      dispose : function() {\n        document.body.removeChild(box);\n        document.body.removeChild(bar);\n      }\n    };\n  };\n\n  export var attachTooltipFeature = function(\n      td : TdWrapper, renderer : TableCellRenderer) : TableCellRenderer {\n\n    var tooltip : Tooltip = null;\n\n    return {\n      getCellStyle : renderer.getCellStyle,\n      render : function(cell) {\n        if (cell.tooltip) {\n          if (!tooltip) {\n            tooltip = createTooltip(td);\n            td.$el.appendChild(tooltip.$el);\n          }\n          tooltip.show(cell.tooltip);\n        } else {\n          if (tooltip) {\n            tooltip.show('');\n          }\n        }\n        renderer.render(cell);\n      },\n      beginEdit : renderer.beginEdit,\n      dispose : function() {\n        renderer.dispose();\n        if (tooltip) {\n          tooltip.dispose();\n          tooltip = null;\n        }\n      }\n    };\n  };\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  export var classNamePrefix = 'ctj';\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\n/// <reference path=\"UIEventTarget.ts\" />\n\nnamespace comfortable {\n\n  /**\n   * @internal\n   */\n  export interface Rect {\n    left : number;\n    top : number;\n    width : number;\n    height : number;\n  }\n\n  interface CellSizeCache {\n    viewWidth : number;\n    viewHeight : number;\n    rects : Rect[];\n    rowCount : number;\n    columnCount :number;\n    lockTop : number;\n    lockLeft : number;\n    lockBottom : number;\n    lockRight : number;\n    width : number;\n    height : number;\n  }\n\n  interface RenderParams {\n    width : number;\n    height : number;\n    rects : Rect[],\n    viewWidth : number;\n    viewHeight : number;\n    scrWidth : number;\n    scrHeight : number;\n  }\n\n  interface TargetColumn {\n    colFrom : number;\n    colTo : number;\n    i : number;\n    left : number;\n    distance : number;\n  }\n\n  interface ColResizeHandle {\n    $el : HTMLElement;\n    col? : number;\n    left? : number;\n  }\n\n  /**\n   * @internal\n   */\n  export interface InternalEditor extends Editor {\n    td : ElmCache;\n    active : boolean,\n    impl : any;\n    cell : { row : number, col : number };\n    beginEdit : (row : number, col : number, makeVisible? : boolean) => void;\n    endEdit : (reason : string) => void;\n  }\n\n  /**\n   * @internal\n   */\n  export var tableEventTypes = [\n    'mousedown', 'mouseover', 'mouseout',\n    'click', 'dblclick', 'contextmenu' ];\n\n  export var createTable = function() : Table {\n    return new TableImpl(new DefaultTableModel() );\n  }\n\n  // Left-Top\n  var LT_INDEX = 0;\n  // Center-Middle\n  var CM_INDEX = 4;\n  // Right-Bottom\n  var RB_INDEX = 8;\n\n  /**\n   * @internal\n   */\n  export class TableImpl extends UIEventTargetImpl implements Table {\n\n    private tabState = { keyCode : 0, shiftKey : false };\n    private document_keydownHandler = (event : any) => {\n      this.tabState = {\n        keyCode : event.keyCode,\n        shiftKey : event.shiftKey\n      };\n    };\n\n    constructor(model : TableModel) {\n      super();\n      this.model = model;\n      document.addEventListener('keydown', this.document_keydownHandler);\n    }\n\n    public dispose() {\n      document.removeEventListener('keydown', this.document_keydownHandler);\n    }\n\n    private tables = ( () => {\n\n      var tables : InternalTable[] = [];\n      for (var i = 0; i < 9; i += 1) {\n        tables.push(new InternalTableImpl() );\n      }\n\n      tables.forEach( (table, i) => {\n        table.row = ~~(i / 3);\n        table.col = i % 3;\n        var cellEventHandler = function(handler :\n            (event : Event, td : ElmCache) => void) : EventListener {\n          return function(event) {\n            var col = util.indexOf(util.closest(event.target,\n                { tagName : 'TD', root : table.$el }) );\n            var row = util.indexOf(util.closest(event.target,\n                { tagName : 'TR', root : table.$el }) );\n            if (col != -1 && row != -1) {\n              handler(event, table.tbody.children[row].children[col]);\n            }\n          };\n        };\n        var delegateHandler = cellEventHandler( (event, td) => {\n          this.trigger(event.type,\n              { originalEvent : event, row : td.row, col : td.col }); });\n        var delegates : {[type : string] : EventListener} = {};\n        tableEventTypes.forEach(function(type) {\n          delegates[type] = delegateHandler;\n        });\n        util.set(table.$el, {\n          on : delegates\n        });\n        util.set(table.$el, {\n          style : { position : 'absolute' },\n          on : {\n            mousedown: cellEventHandler( (event, td) => {\n              if (event.which != 1) {\n                return;\n              }\n              if (td.row < this.model.getLockTop() &&\n                  this.model.isColumnDraggable() &&\n                  !event.defaultPrevented) {\n                event.preventDefault();\n                var mousemoveHandler = (event : Event) => {\n                  updateMarker(event.pageX - dragPoint.x);\n                };\n                var mouseupHandler = (event : Event) => {\n                  util.$(document).off('mousemove', mousemoveHandler).\n                    off('mouseup', mouseupHandler);\n                  this.frame.removeChild(dragProxy);\n                  this.frame.removeChild(marker);\n                  if (targetColumn != null) {\n                    tableModel.trigger('columndragged', {\n                      colFrom : targetColumn.colFrom,\n                      colSpan : cell.colSpan,\n                      colTo : targetColumn.colTo });\n                    this.invalidate();\n                  }\n                };\n                util.$(document).on('mousemove', mousemoveHandler).\n                  on('mouseup', mouseupHandler);\n                var getTargetColumn = (centerX : number) => {\n                  var targetColumn : TargetColumn = null;\n                  tables.forEach( (tbl, i) => {\n                    if (tbl.row == table.row) {\n                      var tableState = tbl.tableState;\n                      var rect = this.getCellSizeCache().rects[i];\n                      var left = rect.left + tableState.left;\n                      for (var col = tableState.minCol; col <= tableState.maxCol + 1; col += 1) {\n                        var distance = Math.abs(left - centerX);\n                        if ( (targetColumn == null ||\n                                distance < targetColumn.distance) &&\n                              !tableModel.checkSpaned(0, col) ) {\n                          targetColumn = { colFrom : colFrom, colTo : col,\n                              i : i, left : left, distance : distance };\n                        }\n                        left += tableModel.getCellWidthAt(col);\n                      }\n                    }\n                  });\n                  return targetColumn;\n                };\n                var updateMarker = function(delta : number) {\n                  var left = getLeft(delta);\n                  targetColumn = getTargetColumn(left + colWidth / 2);\n                  dragProxy.style.left = left + 'px';\n                  marker.style.left = (targetColumn.left - markerStyle.gap - 1) + 'px';\n                };\n                var tableModel = this.model;\n                var tableState = table.tableState;\n                var targetColumn : TargetColumn = null;\n                var rect = this.getCellSizeCache().rects[i];\n                var colFrom = td.col;\n                var spaned = tableModel.checkSpaned(0, colFrom);\n                if (spaned) {\n                  colFrom = spaned.col;\n                }\n                var cell = tableModel.getCellAt(0, colFrom);\n                var colLeft = function() {\n                  var left = 0;\n                  for (var col = tableState.minCol; col < colFrom; col += 1) {\n                    left += tableModel.getCellWidthAt(col);\n                  }\n                  return left;\n                }();\n                var colWidth = function() {\n                  var width = 0;\n                  for (var col = 0; col < cell.colSpan; col += 1) {\n                    width += tableModel.getCellWidthAt(colFrom + col);\n                  }\n                  return width;\n                }();\n                var getLeft = function(delta : number) {\n                  return tableState.left + rect.left + colLeft + delta;\n                };\n                var dragPoint = { x : event.pageX, y : event.pageY };\n                var dragProxy = util.createElement('div', {\n                  attrs : { 'class' : '${prefix}-column-drag-proxy' },\n                  style : { position : 'absolute', top : '0px',\n                    width : colWidth + 'px',\n                    height : rect.height + 'px' }\n                });\n                var markerStyle = { gap : 2 };\n                var marker = util.createElement('div', {\n                  attrs : { 'class' : '${prefix}-column-drag-marker' },\n                  style : { position : 'absolute', top : '0px',\n                    width : (markerStyle.gap * 2 + 1) + 'px',\n                    height : rect.height + 'px' }\n                });\n                updateMarker(0);\n                this.frame.appendChild(dragProxy);\n                this.frame.appendChild(marker);\n                return;\n              }\n              this.beginEditIfNeed(event, td);\n            }),\n            focusin: cellEventHandler( (event, td) => {\n              this.beginEditIfNeed(event, td);\n            })\n          }\n        } );\n      });\n\n      return tables;\n    })();\n    private beginEditIfNeed(event : Event, td : ElmCache) {\n      // begin edit by logical row and col\n      if (this.editor.cell != null &&\n          this.editor.cell.row == td.row &&\n          this.editor.cell.col == td.col) {\n      } else if (this.isEditableAt(td.row, td.col) ) {\n        event.preventDefault();\n        this.editor.beginEdit(td.row, td.col, true);\n      }\n    }\n    private barSize : { width : number, height : number } = null;\n    private measureBarSize() {\n      if (this.barSize == null) {\n\n        var scr = util.createElement('div', {\n          style : { position : 'absolute' } });\n  \n        var viewPane = util.createElement('div', {\n          style : { position : 'absolute', overflow : 'auto' }\n        }, [ scr ]);\n\n        util.extend(scr.style, {\n          width : '200px', height : '200px' });\n        util.extend(viewPane.style, {\n          left : '0px', top : '0px', width : '100px', height : '100px' });\n\n        this.frame.appendChild(viewPane);\n        var barSize = {\n          width : viewPane.offsetWidth - viewPane.clientWidth,\n          height : viewPane.offsetHeight - viewPane.clientHeight\n        };\n        this.frame.removeChild(viewPane);\n        if (barSize.width > 0 && barSize.height > 0) {\n          // cache\n          this.barSize = barSize;\n        } else {\n          return barSize;\n        }\n      }\n      return this.barSize;\n    };\n\n    private scrollHandler = (event : any) => { this.render(); };\n\n    private hScr = util.createElement('div', {\n        style : { position : 'absolute' } });\n\n    private hViewPane = util.createElement('div', {\n        style : { position : 'absolute',\n          overflowX : 'auto', overflowY : 'hidden' },\n        on : { scroll : this.scrollHandler }\n      }, [ this.hScr ]);\n\n    private vScr = util.createElement('div', {\n        style : { position : 'absolute' } });\n\n    private vViewPane = util.createElement('div', {\n        style : { position : 'absolute',\n          overflowX : 'hidden', overflowY : 'auto' },\n        on : { scroll : this.scrollHandler }\n      }, [ this.vScr ]);\n\n    private frame = util.createElement('div', {\n        attrs : { tabindex : '0' },\n        style : { position : 'relative', overflow : 'hidden',\n          width : '400px', height : '200px' },\n        on : {\n          focus: (event) => {\n\n            var tabState = this.tabState;\n            var rowCount = this.model.getRowCount();\n            var columnCount = this.model.getColumnCount();\n\n            if (tabState.keyCode == 9 && rowCount > 0 && columnCount > 0) {\n\n              var row = tabState.shiftKey ? rowCount - 1 : 0;\n              var col = tabState.shiftKey ? columnCount - 1 : 0;\n\n              if (this.isEditableAt(row, col) ) {\n                this.editor.beginEdit(row, col, true);\n              } else {\n                this.findNextEditable(\n                  row,\n                  col,\n                  { row: 0, col: tabState.shiftKey ? -1 : 1 },\n                  (row, col) => {\n                    this.editor.beginEdit(row, col, true);\n                  }\n                );\n              }\n            }\n          },\n          focusin : (event) => {\n            this.editor.active = true;\n            this.$el.setAttribute('tabindex', '-1');\n          },\n          focusout : (event) => {\n            this.editor.active = false;\n            this.$el.setAttribute('tabindex', '0');\n          },\n          mousedown : (event) => {\n            this.tabState = { keyCode: 0, shiftKey: event.shiftKey };\n            if (util.closest(event.target, {\n                $el : this.hViewPane, root : this.frame }) ) {\n              this.editor.endEdit('hscr');\n              this.render();\n            } else if (util.closest(event.target, {\n                $el : this.vViewPane, root : this.frame }) ) {\n              this.editor.endEdit('vscr');\n              this.render();\n            }\n          },\n          keydown : (event) => {\n            switch(event.keyCode) {\n            case 9: // Tab\n              this.move(event, { row : 0, col : event.shiftKey? -1 : 1 });\n              break;\n            case 13: // Enter\n              this.move(event, { row : event.shiftKey? -1 : 1, col : 0 });\n              break;\n            }\n          },\n          wheel : (event) => {\n\n            this.editor.endEdit('wheel');\n\n            var last = {\n              scrollLeft : this.hViewPane.scrollLeft,\n              scrollTop : this.vViewPane.scrollTop\n            };\n\n            this.hViewPane.scrollLeft += event.deltaX;\n            this.vViewPane.scrollTop += event.deltaY;\n\n            if (last.scrollLeft != this.hViewPane.scrollLeft ||\n                last.scrollTop != this.vViewPane.scrollTop) {\n              // consumed.\n              event.preventDefault();\n            }\n          }\n        }\n      }, [this.hViewPane, this.vViewPane].concat(\n          this.tables.map(function(table) { return table.$el; }) ) );\n\n    private lockLines : HTMLElement[] = [];\n    private colResizeHandles : ColResizeHandle[] = [];\n\n    private getCellRect(row : number, col : number) {\n      var tableModel = this.tables[CM_INDEX].model;\n      var left = 0;\n      var top = 0;\n      for (var r = 0; r < row; r += 1) {\n        top += tableModel.getCellHeightAt(r);\n      }\n      for (var c = 0; c < col; c += 1) {\n        left += tableModel.getCellWidthAt(c);\n      }\n      return { left : left, top : top,\n        width : tableModel.getCellWidthAt(col),\n        height : tableModel.getCellHeightAt(row) };\n    }\n    private makeVisible(renderParams : RenderParams, row : number, col : number) {\n      var ltRect = renderParams.rects[LT_INDEX];\n      var scrollRect = renderParams.rects[CM_INDEX];\n      var delta = { left : 0, top : 0 };\n      var cellRect = this.getCellRect(row, col);\n      var left = cellRect.left + this.tables[CM_INDEX].left;\n      var top = cellRect.top + this.tables[CM_INDEX].top;\n      if (cellRect.width >= scrollRect.width) {\n        delta.left = left;\n      } else if (left < 0) {\n        delta.left = left;\n      } else if (left + cellRect.width > scrollRect.width) {\n        delta.left = left + cellRect.width - scrollRect.width;\n      }\n      if (cellRect.height >= scrollRect.height) {\n        delta.top = top;\n      } else if (top < 0) {\n        delta.top = top;\n      } else if (top + cellRect.height > scrollRect.height) {\n        delta.top = top + cellRect.height - scrollRect.height;\n      }\n      var clientWidth =  this.hViewPane.clientWidth;\n      var clientHeight =  this.vViewPane.clientHeight;\n      var scroll = {\n        left : renderParams.viewWidth > clientWidth?\n            util.translate(-this.tables[CM_INDEX].left + delta.left,\n            ltRect.width,\n            ltRect.width + renderParams.viewWidth - clientWidth,\n            0, renderParams.scrWidth - clientWidth, 'scroll.left') : 0,\n        top : renderParams.viewHeight > clientHeight?\n            util.translate(-this.tables[CM_INDEX].top + delta.top,\n            ltRect.height,\n            ltRect.height + renderParams.viewHeight - clientHeight,\n            0, renderParams.scrHeight - clientHeight, 'scroll.top') : 0\n      };\n      if (row >= this.model.getLockTop() ) {\n        this.vViewPane.scrollTop = scroll.top;\n      }\n      if (col >= this.model.getLockLeft() ) {\n        this.hViewPane.scrollLeft = scroll.left;\n      }\n    }\n    private cellSizeCache : CellSizeCache = null;\n    private beforeCellSizeChangeHandler : EventListener = null;\n    private getCellSizeCache() : CellSizeCache {\n      var width = this.$el.clientWidth;\n      var height = this.$el.clientHeight;\n      var tableModel = this.model;\n      if (this.beforeCellSizeChangeHandler == null) {\n        this.beforeCellSizeChangeHandler = (event : Event, detail : any) => {\n          // note: 'this' bind to table's.\n          this.cellSizeCache = null;\n        };\n      }\n      // observe cache size.\n      tableModel.off('beforecellsizechange', this.beforeCellSizeChangeHandler);\n      tableModel.on('beforecellsizechange', this.beforeCellSizeChangeHandler);\n      //\n      var rowCount = tableModel.getRowCount();\n      var columnCount = tableModel.getColumnCount();\n      var lockTop = tableModel.getLockTop();\n      var lockLeft = tableModel.getLockLeft();\n      var lockBottom = tableModel.getLockBottom();\n      var lockRight = tableModel.getLockRight();\n      if (!this.cellSizeCache ||\n          this.cellSizeCache.rowCount != rowCount ||\n          this.cellSizeCache.columnCount != columnCount ||\n          this.cellSizeCache.lockTop != lockTop ||\n          this.cellSizeCache.lockLeft != lockLeft ||\n          this.cellSizeCache.lockBottom != lockBottom ||\n          this.cellSizeCache.lockRight != lockRight ||\n          this.cellSizeCache.width != width ||\n          this.cellSizeCache.height != height) {\n        var rowPos = [ 0, lockTop, rowCount - lockBottom, rowCount ];\n        var colPos = [ 0, lockLeft, columnCount - lockRight, columnCount ];\n        var cw = colPos.slice(1).map(function() { return 0; });\n        var ch = rowPos.slice(1).map(function() { return 0; });\n        var idx : number, count : number;\n        idx = colPos.shift();\n        cw.forEach(function(_, i) {\n          for (count = colPos.shift(); idx < count; idx += 1) {\n            cw[i] += tableModel.getCellWidthAt(idx);\n          }\n        });\n        idx = rowPos.shift();\n        ch.forEach(function(_, i) {\n          for (count = rowPos.shift(); idx < count; idx += 1) {\n            ch[i] += tableModel.getCellHeightAt(idx);\n          }\n        });\n        var rects = this.tables.map(function(table) {\n          var rect = { left : 0, top : 0, width : 0, height : 0 };\n          for (var row = 0; row <= table.row; row += 1) {\n            (<any>rect)[row < table.row ? 'top' : 'height'] += ch[row];\n          }\n          for (var col = 0; col <= table.col; col += 1) {\n            (<any>rect)[col < table.col? 'left' : 'width'] += cw[col];\n          }\n          return rect;\n        });\n\n        var rbRect = rects[RB_INDEX];\n        this.tables.forEach(function(table, i) {\n          var rect = rects[i];\n          if (table.col == 1) {\n            rect.width = Math.max(0,\n              Math.min(rect.width, width - rect.left - rbRect.width) );\n          } else if (table.col == 2) {\n            rect.left = width - rbRect.width;\n          }\n          if (table.row == 1) {\n            rect.height = Math.max(0,\n              Math.min(rect.height, height - rect.top - rbRect.height) );\n          } else if (table.row == 2) {\n            rect.top = height - rbRect.height;\n          }\n        });\n\n        this.cellSizeCache = {\n          viewWidth : cw[1],\n          viewHeight : ch[1],\n          rects : rects,\n          rowCount : rowCount, columnCount : columnCount,\n          lockTop : lockTop, lockLeft : lockLeft,\n          lockBottom : lockBottom, lockRight : lockRight,\n          width : width, height : height\n        };\n      }\n      return this.cellSizeCache;\n    }\n    private getRenderParams() {\n      var width = this.$el.clientWidth;\n      var height = this.$el.clientHeight;\n      var cellSizeCache = this.getCellSizeCache();\n      var viewWidth = cellSizeCache.viewWidth;\n      var viewHeight = cellSizeCache.viewHeight;\n      var maxScr = 1E6;\n      var scrWidth = Math.min(viewWidth, maxScr);\n      var scrHeight = Math.min(viewHeight, maxScr);\n      return {\n        width : width,\n        height : height,\n        rects : cellSizeCache.rects,\n        viewWidth : viewWidth,\n        viewHeight : viewHeight,\n        scrWidth : scrWidth,\n        scrHeight : scrHeight\n      };\n    }\n    private getTargetTable(row : number, col : number) {\n      var tableModel = this.model;\n      var t = tableModel.getLockTop();\n      var b = tableModel.getRowCount() - tableModel.getLockBottom();\n      var l = tableModel.getLockLeft();\n      var r = tableModel.getColumnCount() - tableModel.getLockRight();\n      return this.tables.filter( (table) => {\n        return table.row == (row < t? 0 : row >= b? 2 : 1) &&\n          table.col == (col < l? 0 : col >= r? 2 : 1);\n      })[0];\n    }\n    private isEditableAt(row : number, col : number) {\n      return this.model.getCellAt(row, col).editable;\n    }\n    private move(event : any, offset : { row : number, col : number }) {\n\n      if (this.editor.cell == null) {\n        return;\n      }\n      var row = this.editor.cell.row;\n      var col = this.editor.cell.col;\n\n      var found = false;\n      this.findNextEditable(row, col, offset,\n        function(r, c) {\n          if (offset.row == -1 || offset.col == -1) {\n            found = !(row < r && col < c);\n          } else if (offset.row == 1 || offset.col == 1) {\n            found = !(row > r && col > c);\n          }\n        });\n\n      if (!found) {\n        if (offset.row == -1 || offset.col == -1) {\n          this.trigger('prevfocus');\n        } else if (offset.row == 1 || offset.col == 1) {\n          this.trigger('nextfocus');\n        }\n        return;\n      }\n\n      // preventDefault of keyevent.\n      event.preventDefault();\n      this.findNextEditable(row, col, offset,\n        (row : number, col : number) => {\n          this.editor.beginEdit(row, col, true);\n        });\n    }\n\n    public findNextEditable(\n      row : number, col : number,\n      offset : { row : number, col : number },\n      found : (row : number, col : number) => void\n    ) {\n\n      var initialRow = row;\n      var initialCol = col;\n\n      var beginEditIfEditable = () => {\n        if (row == initialRow && col == initialCol) {\n          // break.\n          return true;\n        }\n        if (this.isEditableAt(row, col) ) {\n          found(row, col);\n          return true;\n        }\n        return false;\n      };\n\n      var tableModel = this.model;\n      var rowCount = tableModel.getRowCount();\n      var columnCount = tableModel.getColumnCount();\n\n      if ( (offset.row == -1 || offset.row == 1) &&\n          tableModel.getLineRowCountAt(row) == 1) {\n\n        do {\n          do {\n            row += offset.row;\n            if (row < 0) {\n              row = rowCount - 1;\n              col = (col - 1 + columnCount) % columnCount;\n            } else if (row >= rowCount) {\n              row = 0;\n              col = (col + 1) % columnCount;\n            }\n          } while (tableModel.checkSpaned(row, col) );\n        } while (!beginEditIfEditable() );\n\n      } else if (offset.row == -1 || offset.row == 1) {\n\n        do {\n          do {\n            var lineRowCount = tableModel.getLineRowCountAt(row);\n            var lineRow = tableModel.getLineRowAt(row);\n            var rowOffset = row - lineRow;\n            lineRow += offset.row;\n            if (lineRow < 0) {\n              lineRow = lineRowCount - 1;\n              col -= 1;\n              if (col < 0) {\n                lineRow = -1;\n                col = columnCount - 1;\n              }\n            } else if (lineRow >= lineRowCount) {\n              lineRow = 0;\n              col += 1;\n              if (col >= columnCount) {\n                lineRow = lineRowCount;\n                col = 0;\n              }\n            }\n            row = rowOffset + lineRow;\n            if (row < 0) {\n              row = rowCount - 1;\n            } else if (row >= rowCount) {\n              row = 0;\n            }\n          } while (tableModel.checkSpaned(row, col) );\n        } while (!beginEditIfEditable() );\n\n      } else if (offset.col == -1 || offset.col == 1) {\n\n        do {\n          do {\n            col += offset.col;\n            if (col < 0) {\n              col = columnCount - 1;\n              row = (row - 1 + rowCount) % rowCount;\n            } else if (col >= columnCount) {\n              col = 0;\n              row = (row + 1) % rowCount;\n            }\n          } while (tableModel.checkSpaned(row, col) );\n        } while (!beginEditIfEditable() );\n\n      }\n    };\n\n    private renderColumnResizeHandlers(renderParams : RenderParams) {\n      var mousedownHandler = (event : Event) => {\n        var mouseupHandler = (event : Event) => {\n          util.$(document).off('mousemove', mousemoveHandler).\n            off('mouseup', mouseupHandler);\n          this.frame.removeChild(block);\n          util.set(handle.$el.childNodes[0],\n              { style : { display : 'none' } });\n          var deltaX = event.pageX - dragPoint.x;\n          var cellWidth = tableModel.getCellWidthAt(handle.col);\n          tableModel.trigger('beforecellsizechange');\n          tableModel.trigger('cellsizechange', {\n            col : handle.col,\n            cellWidth : Math.max(tableModel.minCellWidth,\n                cellWidth + deltaX) });\n          this.invalidate();\n        };\n        var mousemoveHandler = function(event : Event) {\n          var deltaX = event.pageX - dragPoint.x;\n          var cellWidth = tableModel.getCellWidthAt(handle.col);\n          deltaX = Math.max(tableModel.minCellWidth,\n              cellWidth + deltaX) - cellWidth;\n          handle.$el.style.left = (handle.left + deltaX) + 'px';\n        };\n        if (event.which != 1) {\n          return;\n        }\n        event.preventDefault();\n        this.editor.endEdit('mousedown');\n        var handleIndex = this.colResizeHandles.map(function(handle) {\n          return handle.$el; } ).indexOf(event.currentTarget);\n        var handle = this.colResizeHandles[handleIndex];\n        var dragPoint = { x : event.pageX, y : event.pageY };\n        util.set(handle.$el.childNodes[0], { style : { display : '' } });\n        var block = util.createElement('div', {\n          style : {\n            position : 'absolute', left : '0px', top : '0px',\n            backgroundColor : handleStyle.backgroundColor,\n            cursor : handleStyle.cursor,\n            width : clientWidth + 'px',\n            height : clientHeight + 'px'\n          }\n        });\n        this.frame.appendChild(block);\n        util.$(document).on('mousemove', mousemoveHandler).\n          on('mouseup', mouseupHandler);\n      };\n      var getOrCrt = () : ColResizeHandle => {\n        if (handleIndex < this.colResizeHandles.length) {\n          return this.colResizeHandles[handleIndex];\n        }\n        var handle = { $el : util.createElement('div', {\n          style : {\n            position : 'absolute',\n            backgroundColor : handleStyle.backgroundColor,\n            overflow : 'visible', top : '0px',\n            width : (handleStyle.offset * 2 + handleStyle.lineWidth) + 'px',\n            cursor : handleStyle.cursor\n          },\n          on : { mousedown : mousedownHandler }\n        }, [util.createElement('div', {\n          attrs : { 'class' : '${prefix}-v-resize-line' },\n          style : {\n            position : 'absolute',\n            left : handleStyle.offset + 'px', top : '0px', width : '0px',\n            borderLeftWidth : handleStyle.lineWidth + 'px' }\n        })]) };\n        this.frame.appendChild(handle.$el);\n        this.colResizeHandles.push(handle);\n        return handle;\n      };\n      var handleStyle = {\n        offset : 3,\n        lineWidth : 1,\n        cursor : 'ew-resize',\n        backgroundColor : 'rgba(0,0,0,0)'\n      };\n      var handleIndex = 0;\n      var tableModel = this.model;\n      var rbRect = renderParams.rects[RB_INDEX];\n      var clientWidth = rbRect.left + rbRect.width;\n      var clientHeight = rbRect.top + rbRect.height;\n      for (var i = 0; i < this.tables.length; i += 1) {\n        var table = this.tables[i];\n        if (table.row == 0) {\n          // header\n          var rect = renderParams.rects[i];\n          var tableState = table.tableState;\n          var left = tableState.left + rect.left -\n            handleStyle.offset - handleStyle.lineWidth;\n          var height = rect.height;\n          for (var col = tableState.minCol; col <= tableState.maxCol;\n              col += 1, handleIndex += 1) {\n            if (this.model.isColumnHiddenAt(col) ) {\n              continue;\n            }\n            left += tableModel.getCellWidthAt(col);\n            if (left > rect.left + rect.width) {\n              break;\n            }\n            if (!this.model.isColumnResizableAt(col) ) {\n              continue;\n            }\n            var handle = getOrCrt();\n            util.set(handle.$el, { style : { display : '',\n              left : left + 'px', height : height + 'px' } });\n            util.set(handle.$el.childNodes[0], {\n              style : { display : 'none', height : clientHeight + 'px' } });\n            handle.col = col;\n            handle.left = left;\n          }\n        }\n      }\n      for (; handleIndex < this.colResizeHandles.length; handleIndex += 1) {\n        util.set(this.colResizeHandles[handleIndex].$el, {\n          style : { display : 'none', left : '0px', height : '0px' } });\n      }\n    }\n    public render(visibleCell? : { row : number, col : number },\n        cellStyleOnly? : boolean) {\n\n      var renderParams = this.getRenderParams();\n\n      var ltRect = renderParams.rects[LT_INDEX];\n      var rbRect = renderParams.rects[RB_INDEX];\n\n      var viewWidth = renderParams.width - ltRect.width - rbRect.width;\n      var viewHeight = renderParams.height - ltRect.height - rbRect.height;\n\n      // check if scrollbar shown.\n      var barSize = this.measureBarSize();\n      var vBarShown = renderParams.scrWidth > viewWidth - barSize.width;\n      var hBarShown = renderParams.scrHeight > viewHeight - barSize.height;\n\n      util.extend(this.hScr.style, {\n        width : renderParams.scrWidth + 'px', height : '1px' });\n      util.extend(this.hViewPane.style, {\n        left : ltRect.width + 'px', top : (ltRect.height + rbRect.height) + 'px',\n        width : (viewWidth - (hBarShown? barSize.width : 0) ) + 'px',\n        height : viewHeight + 'px' });\n\n      util.extend(this.vScr.style, {\n        width : '1px', height : renderParams.scrHeight + 'px' });\n      util.extend(this.vViewPane.style, {\n        left : (ltRect.width + rbRect.width) + 'px', top : ltRect.height + 'px',\n        width : viewWidth + 'px',\n        height : (viewHeight - (vBarShown? barSize.height : 0) ) + 'px' });\n\n      var hViewPane = this.hViewPane;\n      var vViewPane = this.vViewPane;\n      var clientWidth = vViewPane.clientWidth;\n      var clientHeight = hViewPane.clientHeight;\n      var barWidth = vViewPane.offsetWidth - clientWidth;\n      var barHeight = hViewPane.offsetHeight - clientHeight;\n\n      for (var i = 0; i < this.tables.length; i += 1) {\n        var table = this.tables[i];\n        var rect = renderParams.rects[i];\n        if (rbRect.left + rbRect.width + barWidth > renderParams.width) {\n          if (table.col == 1) {\n            if (rect.left + rect.width > rbRect.left - barWidth) {\n              rect.width = Math.max(0, rbRect.left - barWidth - rect.left);\n            }\n          }\n          if (table.col == 2) {\n            rect.left -= barWidth;\n          }\n        }\n        if (rbRect.top + rbRect.height + barHeight > renderParams.height) {\n          if (table.row == 1) {\n            if (rect.top + rect.height > rbRect.top - barHeight) {\n              rect.height = Math.max(0, rbRect.top - barHeight - rect.top);\n            }\n          }\n          if (table.row == 2) {\n            rect.top -= barHeight;\n          }\n        }\n      }\n\n      if (visibleCell) {\n        this.makeVisible(renderParams, visibleCell.row, visibleCell.col);\n      }\n\n      var scrollLeft = hViewPane.scrollLeft;\n      var scrollTop = vViewPane.scrollTop;\n      for (var i = 0; i < this.tables.length; i += 1) {\n        var table = this.tables[i];\n        var rect = renderParams.rects[i];\n        if (table.col == 1) {\n          table.left = -(renderParams.scrWidth > clientWidth?\n                util.translate(scrollLeft,\n                0, renderParams.scrWidth - clientWidth,\n                ltRect.width,\n                ltRect.width + renderParams.viewWidth - clientWidth,\n                'table.left') : ltRect.width);\n        }\n        if (table.row == 1) {\n          table.top = -(renderParams.scrHeight > clientHeight?\n                util.translate(scrollTop,\n                0, renderParams.scrHeight - clientHeight,\n                ltRect.height,\n                ltRect.height + renderParams.viewHeight - clientHeight,\n                'table.top') : ltRect.height);\n        }\n        if (table.col == 2) {\n          table.left = -(ltRect.width + renderParams.viewWidth);\n        }\n        if (table.row == 2) {\n          table.top = -(ltRect.height + renderParams.viewHeight);\n        }\n\n        table.model = this.model;\n        table.setBounds(rect);\n        table.render(!!cellStyleOnly);\n\n      }\n\n      if (this.editor.cell != null && !cellStyleOnly) {\n        this.editor.beginEdit(this.editor.cell.row, this.editor.cell.col);\n      }\n\n      // lock lines.\n      ( () => {\n        while (this.lockLines.length < 4) {\n          var line = util.createElement('div', {\n            style : { position : 'absolute' } });\n          this.frame.appendChild(line);\n          this.lockLines.push(line);\n        }\n        var width = renderParams.width - barWidth;\n        var height = renderParams.height - barHeight;\n        // top\n        util.set(this.lockLines[0], {\n          attrs :{ 'class' : '${prefix}-h-lock-line' },\n          style : {\n            display : this.model.getLockTop() == 0? 'none' : '', left : '0px',\n            top : (ltRect.height - 1) + 'px', width : width + 'px'\n          } });\n        // left\n        util.set(this.lockLines[1], {\n          attrs :{ 'class' : '${prefix}-v-lock-line' },\n          style : {\n            display : this.model.getLockLeft() == 0? 'none' : '', top : '0px',\n            left : (ltRect.width - 1) + 'px', height : height + 'px'\n          } });\n        // bottom\n        util.set(this.lockLines[2], {\n          attrs :{ 'class' : '${prefix}-h-lock-line' },\n          style : {\n            display : this.model.getLockBottom() == 0? 'none' : '', left : '0px',\n            top : (height - rbRect.height - 1) + 'px', width : width + 'px'\n          } });\n        // right\n        util.set(this.lockLines[3], {\n          attrs :{ 'class' : '${prefix}-v-lock-line' },\n          style : {\n            display : this.model.getLockRight() == 0? 'none' : '', top : '0px',\n            left : (width - rbRect.width - 1) + 'px', height : height + 'px'\n          } });\n      } )();\n\n      // resize handles.\n      if (this.model.getLockTop() > 0) {\n        this.renderColumnResizeHandlers(renderParams);\n      }\n\n      this.trigger('rendered', {\n        tableStates : this.tables.map(function(table) {\n          return table.tableState;\n        })\n      } );\n    }\n\n    private createInternalEditor() : InternalEditor {\n      var table = this;\n      var valuecommitHandler = function(event : any, detail : any) {\n        if (!editor.active || (detail && detail.force) /*editor.cell && detail.row == editor.cell.row &&\n            detail.col == editor.cell.col*/) {\n          // still editing after lost focus.\n          // then, force end edit.\n          editor.endEdit('valuecommit');\n          table.render();\n        }\n      };\n      var editor : InternalEditor = {\n        td : null,\n        active : false,\n        impl : null,\n        cell : null,\n        beginEdit : function(row, col, makeVisible) {\n          if (this.cell && !(this.cell.row == row && this.cell.col == col) ) {\n            // current editing cell changed.\n            this.endEdit('cellchange');\n          }\n          if (makeVisible) {\n            table.render({ row : row, col : col });\n          }\n          this.cell = { row : row, col : col };\n          var target = table.getTargetTable(row, col);\n          var index = target.tableState.indexById[util.getCellId(row, col)];\n          if (index) {\n            this.td = target.tbody.children[index.trIndex].children[index.tdIndex];\n            this.impl = this.td.renderer.beginEdit(table.model.getCellAt(row, col) );\n            this.impl.focus();\n            table.model.on('valuecommit', valuecommitHandler);\n            table.model.trigger('editingcellchange', { cell : this.cell });\n            util.$(this.td.$el).addClass('${prefix}-editing');\n          }\n        },\n        endEdit : function(reason : string) {\n          if (this.impl != null) {\n            util.$(this.td.$el).removeClass('${prefix}-editing');\n            table.model.trigger('editingcellchange', { cell : null });\n            table.model.off('valuecommit', valuecommitHandler);\n            var endState = this.impl.endEdit();\n            if (endState && !(endState.oldValue === endState.newValue) ) {\n              table.model.trigger('valuechange', {\n                row : this.cell.row,\n                col : this.cell.col,\n                oldValue : endState.oldValue,\n                newValue : endState.newValue\n              });\n            }\n            this.impl = null;\n          }\n          this.cell = null;\n        }\n      };\n      return editor;\n    }\n\n    public $el = this.frame;\n    public forEachCells(callback : any) {\n      for (var t = 0; t < this.tables.length; t += 1) {\n        var rows = this.tables[t].tbody.children || [];\n        for (var r = 0; r < rows.length; r += 1) {\n          var cells = rows[r].children || [];\n          for (var c = 0; c < cells.length; c += 1) {\n            if (callback(cells[c]) === true) {\n              return;\n            }\n          }\n        }\n      }\n    }\n    public editor = this.createInternalEditor();\n    public model : TableModel = null;\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable.ui {\n\n  export interface Menu {\n    dispose : () => void;\n  }\n\n  export interface MenuItem {\n    label : string;\n    action? : (event? : Event) => void;\n    children? : () => MenuItem[];\n  }\n\n  export interface CheckBox {\n    $el : HTMLElement;\n    checked : boolean;\n    setIncomplete : (incomplete : boolean) => void;\n    setChecked : (checked : boolean) => void;\n    isChecked : () => boolean;\n  }\n\n  export interface Dialog extends EventTarget {\n    $el : HTMLElement;\n    show : () => void;\n    dispose : () => void;\n  }\n\n  export var createButton = function(\n      label : string, action : (event : Event) => void) {\n    return util.createElement('button',{\n      props : { textContent : label },\n      attrs : { 'class' : '${prefix}-button' },\n      style : { verticalAlign : 'top' },\n      on : { mousedown : function(event : Event) {\n        event.preventDefault();\n      }, click : function(event : Event) { action(event); } } });\n  };\n\n  // three state checkbox\n  export var createCheckBox = function() : CheckBox {\n\n    // fix for layout collapse by bootstrap.\n    var antiBsGlobals : { [k : string] : string } = {\n        verticalAlign :'top',\n        boxSizing : 'content-box',\n        lineHeight : '1' };\n\n    var path = util.createSVGElement('path', { attrs : {\n        'class' : '${prefix}-checkbox-check',\n        d : 'M 2 5 L 5 9 L 10 3'\n      },\n      style : antiBsGlobals });\n    return {\n      $el : util.createElement('span', {\n        attrs : { 'class' : '${prefix}-checkbox-body' },\n        style : util.extend(antiBsGlobals, { display : 'inline-block',\n          width : '12px', height : '12px' }\n        )}, [\n          util.createSVGElement('svg', {\n            attrs : { width : '12', height : '12',\n                tabindex: '-1', focusable: 'false' },\n            style : antiBsGlobals }, [ path ])\n        ] ),\n      checked : true,\n      setIncomplete : function(incomplete) {\n        util.$(path).addClass(\n            '${prefix}-checkbox-incomplete-check', !incomplete);\n      },\n      setChecked : function(checked) {\n        this.checked = checked;\n        path.style.display = this.checked? '' : 'none';\n      },\n      isChecked : function() {\n        return this.checked;\n      }\n    };\n  };\n\n  export var createDialog = function(children : HTMLElement[]) : Dialog {\n    var dialog = util.extend(new EventTargetImpl(), {\n      $el : util.createElement('div', {\n          attrs : { 'class' : '${prefix}-dialog' },\n          style : { position : 'absolute' }\n      }, children),\n      show : function() {\n        document.body.appendChild(this.$el);\n        this.trigger('beforeshow');\n        util.callLater(function() {\n          util.$(document).on('mousedown', mousedownHandler);\n        });\n      },\n      dispose : function() {\n        if (this.$el) {\n          util.$(document).off('mousedown', mousedownHandler);\n          document.body.removeChild(this.$el);\n          this.$el = null;\n          this.trigger('dispose');\n        }\n      }\n    } );\n    var mousedownHandler = function(event : Event) {\n      if (!util.closest(event.target,\n          { $el : dialog.$el, root : document.body }) ) {\n        dialog.dispose();\n      }\n    };\n    return dialog;\n  };\n\n  export var showMenu = function(\n      left : number, top : number, menuItems : MenuItem[]) : Menu {\n    var subMenu : Menu = null;\n    var menu = util.createElement('div', {\n      attrs : { 'class' : '${prefix}-contextmenu' },\n      style : { position : 'absolute', left : left + 'px', top : top + 'px' } },\n      <HTMLElement[]>menuItems.map(function(menuItem) {\n        return util.createElement('div', {\n            attrs : { 'class' : '${prefix}-menuitem ${prefix}-clickable' },\n            props : { textContent : menuItem.label },\n            style : { position : 'relative', whiteSpace : 'nowrap' },\n            on : {\n              mouseover : function(event : Event) {\n                if (subMenu != null) {\n                  subMenu.dispose();\n                  subMenu = null;\n                }\n                if (subMenu == null && menuItem.children) {\n                  subMenu = ui.showMenu(\n                      left + event.target.offsetWidth,\n                      top + event.target.offsetTop,\n                      menuItem.children() );\n                }\n              },\n              mousedown : function(event : Event) {\n                if (menuItem.action) {\n                  menuItem.action(event);\n                }\n              }\n            }\n          } );\n        }) );\n    var dispose = function() {\n      if (menu != null) {\n        document.body.removeChild(menu);\n        menu = null;\n      }\n    };\n    var mousedownHandler = function(event : Event) {\n      util.$(document).off('mousedown', mousedownHandler);\n      dispose();\n    };\n    util.$(document).on('mousedown', mousedownHandler);\n    document.body.appendChild(menu);\n    return { dispose : dispose };\n  };\n\n  var createCalTable = function(\n      year : number, month : number, current : Date, selected : Date) {\n\n    var base = new Date(year, month, 1);\n    var weekdays = i18n.getMessages().WEEKDAYS.split(/,/g);\n\n    var thead = util.createElement('thead');\n    var tbody = util.createElement('tbody');\n\n    thead.appendChild(util.createElement('tr', weekdays.map(function(wd, day) {\n      var className = '';\n      if (day == 0 || day == 6) {\n        className += ' ${prefix}-holiday';\n      }\n      return util.createElement('th',\n          { props: { textContent : wd }, attrs: { 'class': className } })\n    }) ) );\n\n    var d = 0;\n    for (var r = 0; r < 6; r += 1) {\n      tbody.appendChild(util.createElement('tr', weekdays.map(function() {\n        var date = new Date(\n            base.getFullYear(),\n            base.getMonth(),\n            base.getDate() - base.getDay() + d);\n        d += 1;\n        var className = '';\n        if (util.isHoliday(date) ) {\n          className += ' ${prefix}-holiday';\n        }\n        if (date.getMonth() == base.getMonth() ) {\n          className += ' ${prefix}-this-month';\n          if (date.getFullYear() == selected.getFullYear() &&\n              date.getMonth() == selected.getMonth() &&\n              date.getDate() == selected.getDate() ) {\n            className += ' ${prefix}-selected-date';\n          }\n          if (date.getFullYear() == current.getFullYear() &&\n              date.getMonth() == current.getMonth() &&\n              date.getDate() == current.getDate() ) {\n            className += ' ${prefix}-current-date';\n          }\n        }\n        return util.createElement('td',\n            { props: { textContent : '' + date.getDate() },\n              attrs: { 'class' : className },\n              on: { mousedown: function(event) { event.preventDefault(); },\n                click: function() {\n                  table.trigger('click', date);\n                } } });\n      }) ) );\n    }\n    var table = util.extend(new EventTargetImpl(), {\n      $el: util.createElement('table',\n        { attrs: { 'class' : '${prefix}-cal-table' } }, [ thead, tbody ])\n    });\n    return table;\n  };\n\n  var createCalButton = function(prev : boolean, action : () => void) {\n    return util.createElement('span',\n        { style: { display : 'inline-block', float: prev? 'left' : 'right' },\n          attrs: { 'class' : '${prefix}-cal-button' },\n          on: { mousedown : function(event) { event.preventDefault(); },\n            click: action } },\n        [ util.createSVGElement('svg',\n            { attrs: { width: '16', height: '16',\n                tabindex: '-1', focusable: 'false',\n                'class': '${prefix}-cal-button-symbol' },\n              style: { verticalAlign: 'middle' } },\n            [ util.createSVGElement('path',\n                { attrs: { d: 'M3 2L13 8L3 14Z',\n                  transform: prev?\n                    'translate(8,8) rotate(180) translate(-8,-8)' : '' } }) ]),\n          createSpacer()\n        ]);\n  };\n\n  export var createSpacer = function() {\n    return util.createElement('span',{ style: {\n        verticalAlign :'middle',\n        padding : '0px',\n        margin : '0px',\n        display :'inline-block',\n        width : '0px',\n        height : '100%' } });\n  };\n\n  export var createCalIcon = function(r? : number) {\n    r = r || 3;\n    var w = r * 5 + 1;\n    var calIcon = util.createElement('canvas', {\n      style : { verticalAlign : 'middle' },\n      props : { width : '' + w, height : '' + w,\n         },\n      on : {\n        click : function(event) {\n        }\n      }\n    });\n    var ctx = (<any>calIcon).getContext('2d');\n    ctx.clearRect(0, 0, w, w);\n    for (var x = 0; x < w; x += 1) {\n      for (var y = 0; y < w; y += 1) {\n        if (x % r == 0 || y % r == 0) {\n          if (0 < y && y < r && r < x && x < r * 4) {\n          } else {\n            ctx.fillStyle = '#333';\n            ctx.fillRect(x, y, 1, 1);\n          }\n        } else if (~~(x / r) == 3 && ~~(y / r) == 3) {\n          ctx.fillStyle = '#f96';\n          ctx.fillRect(x, y, 1, 1);\n        }\n      }\n    }\n    return calIcon;\n  };\n\n  export var createCalendar = function(selectedDate : Date) {\n\n    var displayDate : Date = null;\n    var setDisplayDate = function(date : Date) {\n      displayDate = new Date(date.getFullYear(), date.getMonth(), 1);\n    }\n\n    var defaultSelected = selectedDate;\n    setDisplayDate(defaultSelected);\n\n    var prev = createCalButton(true, function() {\n      displayDate = new Date(displayDate.getFullYear(),\n        displayDate.getMonth() - 1, 1);\n      update();\n    });\n    var next = createCalButton(false, function() {\n      displayDate = new Date(displayDate.getFullYear(),\n        displayDate.getMonth() + 1, 1);\n      update();\n    });\n\n    var title = util.createElement('span',\n        { style: { verticalAlign : 'middle' } });\n    var titleBody = util.createElement('span',\n        { style: { flex: '1 1 0%', textAlign : 'center' },\n          on: { mousedown: function(event : any) { event.preventDefault(); },\n            click: function() {\n              setDisplayDate(defaultSelected);\n              update();\n            } } }, [ title, createSpacer() ]);\n    var header = util.createElement('div',\n        { style: { display : 'flex' } }, [ prev, titleBody, next ]);\n\n    var cal = util.extend(new EventTargetImpl(), {\n      $el: util.createElement('div', [ header ],\n        { attrs: { 'class' : '${prefix}-calendar' } }),\n      rollDate: function(offset : number) {\n        selectedDate = new Date(\n          selectedDate.getFullYear(),\n          selectedDate.getMonth(), \n          selectedDate.getDate() + offset);\n        setDisplayDate(selectedDate);\n        update();\n      },\n      getSelectedDate : function() {\n        return selectedDate;\n      }\n    });\n    var table : any = null;\n\n    var update = function() {\n      title.textContent = util.formatYM(\n          displayDate.getFullYear(),\n          displayDate.getMonth() );\n      if (table) {\n        cal.$el.removeChild(table.$el);\n        table = null;\n      }\n      table = createCalTable(\n          displayDate.getFullYear(),\n          displayDate.getMonth(), \n          selectedDate,\n          defaultSelected).on('click',\n        function(event : any, date : Date) {\n          cal.trigger(event.type, date);\n        });\n      cal.$el.appendChild(table.$el);\n    };\n    update();\n\n    return cal;\n  };\n\n  export var createOptions = function(optionsData : renderer.OptionsData) {\n\n    var cont = util.createElement('div');\n    var selectedIndex = optionsData.selectedIndex;\n\n    optionsData.options.forEach(function(option : any, index : number) {\n      cont.appendChild(util.createElement('div', {\n        attrs : { 'class': '${prefix}-option' },\n        props : { textContent : option[optionsData.labelField] + '\\u00a0' },\n        on: {\n          mousedown: function(event) { event.preventDefault(); },\n          click: function() {\n            selectedIndex = index;\n            options.trigger('click', { index : index });\n          } } \n      }) );\n    });\n\n    var updateUI = function() {\n      var options = cont.childNodes;\n      var selectedOption : any = null;\n      for (var i = 0; i < options.length; i += 1) {\n        var option = options[i];\n        util.$(<any>option).addClass('${prefix}-option-selected',\n          i != selectedIndex);\n        if (i == selectedIndex) {\n          selectedOption = option;\n        }\n      }\n      if (selectedOption && cont.parentNode) {\n        // avoid body scrolling.\n        //selectedOption.scrollIntoView();\n        (<any>cont.parentNode).scrollTop = selectedOption.offsetTop;\n      }\n    };\n\n    var options = util.extend(new EventTargetImpl(), {\n      $el: util.createElement('div', {\n        props : { },\n        attrs : { 'class': '${prefix}-options' },\n        style : { overflow : 'auto' }\n      }, [cont]),\n      rollIndex : function(offset : number) {\n        var index = Math.max(0,\n          Math.min(selectedIndex + offset,\n            optionsData.options.length - 1) );\n        if (0 <= index && index < optionsData.options.length) {\n          selectedIndex = index;\n        } else {\n          selectedIndex = -1;\n        }\n        updateUI();\n      },\n      getSelectedIndex : function() {\n        return selectedIndex;\n      }\n    });\n\n    return options;\n  };\n\n  export var createOptionsIcon = function(size? : number) {\n\n    var w = size || 16;\n    var hGap = 3;\n    var vGap = 5;\n\n    var optionsIcon = util.createSVGElement('svg', {\n      style : { verticalAlign : 'middle' },\n      attrs : { width : '' + w, height : '' + w,\n        tabindex: '-1', focusable: 'false' },\n      on : {\n        click : function(event) {\n        }\n      }\n    }, [ util.createSVGElement('path', {\n      attrs : { d : 'M' + hGap + ' ' + vGap +\n          'L' + (w / 2) + ' ' + (w - vGap) +\n          'L' + (w - hGap) + ' ' + vGap,\n        fill : 'none', stroke : '#333',\n        'stroke-width' : '2',\n        'stroke-linecap' : 'round',\n        'stroke-linejoin' : 'round' }\n      }) ]);\n\n    return optionsIcon;\n  };\n\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  export interface ElementOptions {\n    attrs? : { [ key : string ] : string };\n    style? : { [ key : string ] : string };\n    props? : { [ key : string ] : any };\n    on? : { [ type : string ] : (event : any) => void };\n  }\n\n  export interface CreateElement {\n    (tagName : string,\n        opts? : ElementOptions, children? : HTMLElement[]) : HTMLElement;\n    (tagName : string,\n        children? : HTMLElement[], opts? : ElementOptions) : HTMLElement;\n  }\n\n  var parseArguments = function(args : IArguments) {\n    var children : any[] = [];\n    var opts = {};\n    for (var i = 1; i < args.length; i += 1) {\n      var a = args[i];\n      if (typeof a == 'object') {\n        if (typeof a.splice == 'function') {\n          children = a;\n        } else {\n          opts = a;\n        }\n      }\n    }\n    return { children : children, opts : opts };\n  }\n\n  var classNamePrefixRe = /\\$\\{prefix\\}/g;\n  var replaceClassNamePrefix = function(className : string) {\n    return className.replace(classNamePrefixRe, classNamePrefix);\n  }\n\n  var wideNumChars = '';\n  var narrowNumChars = '0123456789+-.,/';\n  if (wideNumChars.length != narrowNumChars.length) {\n    throw wideNumChars + ',' + narrowNumChars;\n  }\n\n  export class $ {\n\n    private elm : HTMLElement|Document;\n\n    constructor(elm : HTMLElement|Document) {\n      this.elm = elm;\n    }\n\n    public on(type : string, listener : EventListener) {\n      this.elm.addEventListener(type, listener);\n      return this;\n    }\n    public off(type : string, listener : EventListener) {\n      this.elm.removeEventListener(type, listener);\n      return this;\n    }\n    public addClass(className : string, remove? : boolean) {\n      className = replaceClassNamePrefix(className);\n      var classes = '';\n      var classList = ((<HTMLElement>this.elm).getAttribute('class') || '').split(/\\s+/g);\n      for (var i = 0; i < classList.length; i += 1) {\n        var c = classList[i];\n        if (c != className) {\n          classes += ' ' + c;\n        }\n      }\n      if (!remove) {\n        classes += ' ' + className;\n      }\n      (<HTMLElement>this.elm).setAttribute('class', classes);\n      return this;\n    }\n    public removeClass(className : string) {\n      return this.addClass(className, true);\n    }\n  }\n\n  export var util = {\n\n    extend : function(arg : any, ...args : any[]) : any {\n      var o = arguments[0];\n      for (var i = 1; i < arguments.length; i += 1) {\n        var a = arguments[i];\n        for (var k in a) {\n          o[k] = a[k];\n        };\n      }\n      return o;\n    },\n\n    callLater : function(cb : () => void) {\n      window.setTimeout(cb, 0);\n    },\n\n    set : function(\n        elm : Node, opts : ElementOptions) {\n      if (opts.attrs) {\n        for (var k in opts.attrs) {\n          var v = opts.attrs[k];\n          var t = typeof v;\n          if (t == 'number' || t == 'boolean') {\n            v = '' + v;\n          } else if (t == 'undefined') {\n            v = '';\n          }\n          if (typeof v != 'string') {\n            throw 'bad attr type for ' + k + ':' + (typeof v);\n          }\n          if (k == 'class') {\n            v = replaceClassNamePrefix(v);\n          }\n          (<any>elm).setAttribute(k, v);\n        }\n      }\n      if (opts.props) {\n        for (var k in opts.props) {\n          (<any>elm)[k] = opts.props[k];\n        }\n      }\n      if (opts.style) {\n        for (var k in opts.style) {\n          (<any>elm).style[k] = opts.style[k] || '';\n        }\n      }\n      if (opts.on) {\n        for (var k in opts.on) {\n          elm.addEventListener(k, opts.on[k]);\n        }\n      }\n      return elm;\n    },\n\n    createElement : function(tagName : string) {\n      var args = parseArguments(arguments);\n      var elm = document.createElement(tagName);\n      for (var i = 0; i < args.children.length; i += 1) {\n        elm.appendChild(args.children[i]);\n      }\n      return this.set(elm, args.opts);\n    } as CreateElement,\n\n    createSVGElement : function(tagName : string) {\n      var args = parseArguments(arguments);\n      var elm = document.createElementNS('http://www.w3.org/2000/svg', tagName);\n      for (var i = 0; i < args.children.length; i += 1) {\n        elm.appendChild(args.children[i]);\n      }\n      return this.set(elm, args.opts);\n    } as CreateElement,\n\n    $ : function(elm : HTMLElement|Document) { return new $(elm); },\n\n    closest : function(elm : HTMLElement,\n        opts : { className? : string,\n          tagName? : string, root? : HTMLElement, $el? : HTMLElement} ) {\n      if (typeof opts.className == 'string') {\n        opts.className = replaceClassNamePrefix(opts.className);\n      }\n      while (elm != null && elm.nodeType == 1 && elm != opts.root) {\n        if (typeof opts.tagName == 'string' && elm.tagName == opts.tagName) {\n          return elm;\n        } else if (typeof opts.$el == 'object' && elm == opts.$el) {\n          return elm;\n        } else if (typeof opts.className == 'string' &&\n            (elm.getAttribute('class') || '').split(/\\s+/g).indexOf(opts.className)!= -1) {\n          return elm;\n        }\n        elm = <HTMLElement>elm.parentNode;\n      }\n      return null;\n    },\n\n    indexOf : function(elm : Node) {\n      if (elm == null) {\n        return -1;\n      }\n      return Array.prototype.indexOf.call(elm.parentNode.childNodes, elm);\n    },\n\n    offset : function(elm : HTMLElement) {\n      var off = { left : 0, top : 0 };\n      var e : HTMLElement;\n      var base : HTMLElement = null;\n      for (e = elm; e.parentNode != null; e = <HTMLElement>e.parentNode) {\n        if (e.offsetParent != null) {\n          base = e;\n          break;\n        }\n      }\n      if (base != null) {\n        for (e = base; e.offsetParent != null; e = <HTMLElement>e.offsetParent) {\n          off.left += e.offsetLeft;\n          off.top += e.offsetTop;\n        }\n      }\n      for (e = elm; e.parentNode != null &&\n            e != document.body; e = <HTMLElement>e.parentNode) {\n        off.left -= e.scrollLeft;\n        off.top -= e.scrollTop;\n      }\n      return off;\n    },\n\n    moveSublist : function(list : any[],\n        from : number, length : number, to : number) {\n      var i1 = list.slice(from, from + length);\n      var i2 = list.slice(0, from).concat(list.slice(from + length) );\n      to = from < to? to - length : to;\n      return i2.slice(0, to).concat(i1).concat(i2.slice(to) );\n    },\n\n    getCellId : function(row : number, col : number) {\n      return row + ':' + col;\n    },\n\n    translate : function(\n        val1 : number,\n        min1 : number, max1 : number,\n        min2 : number, max2 : number,\n        log? : string) {\n      var val2 = (val1 - min1) * (max2 - min2) / (max1 - min1) + min2;\n      return Math.max(min2, Math.min(Math.round(val2), max2) );\n    },\n\n    trimRe : /^[\\s\\u3000]+|[\\s\\u3000]+$/g,\n    trim : function(value : string) {\n      return value.replace(this.trimRe, '');\n    },\n\n    rtrimRe : /[\\s\\u3000]+$/g,\n    rtrim : function(value : string) {\n      return value.replace(this.rtrimRe, '');\n    },\n\n    format : function(msg : string, ...args : any[]) {\n      for (var i = 0; i < args.length; i += 1) {\n        msg = msg.replace(new RegExp('\\\\{' + i + '\\\\}'), '' + args[i]);\n      }\n      return msg;\n    },\n    \n    // num utils\n\n    numRe : /^([\\+\\-]?)([0-9]*)(\\.[0-9]*)?$/,\n\n    formatNumber : function(value : string,\n        digits? : number, s1? : string, s2? : string) {\n      digits = digits || 0;\n      s1 = typeof s1 == 'string'? s1 : ',';\n      s2 = typeof s2 == 'string'? s2 : '.';\n      if (typeof value == 'number') {\n        value = '' + value;\n      }\n      if (typeof value != 'string') {\n        return '';\n      }\n      var mat = value.match(this.numRe);\n      if (mat) {\n        if (mat[2].length == 0 && (!mat[3] || mat[3].length == 1) ) {\n          return '';\n        }\n        var iPart = mat[2].length > 0? mat[2] : '0';\n        while (iPart.length > 1 && iPart.charAt(0) == '0') {\n          iPart = iPart.substring(1);\n        }\n        var neg = mat[1] == '-';\n        var s = '';\n        while (iPart.length > 3) {\n          s = s1 + iPart.substring(iPart.length - 3) + s;\n          iPart = iPart.substring(0, iPart.length - 3);\n        }\n        s = iPart + s;\n        if (digits > 0) {\n          var fPart = mat[3] || s2;\n          s += s2;\n          for (var i = 0; i < digits; i += 1) {\n            s += (i + 1 < fPart.length)? fPart[i + 1] : '0';\n          }\n        }\n        return (neg && s != '0')? '-' + s : s;\n      }\n      return value;\n    },\n\n    toNarrowNumber : function(value : string) {\n      var s = '';\n      for (var i = 0; i < value.length; i += 1) {\n        var c = value.charAt(i);\n        var index = wideNumChars.indexOf(c);\n        s += (index != -1)? narrowNumChars.charAt(index) : c;\n      }\n      return s;\n    },\n\n    fillLeftZero : function(s : string, digits : number) {\n      while (s.length < digits) { s = '0' + s; }\n      return s;\n    },\n\n    formatYM : function(year : number, month : number) : string {\n      return year + '/' + (month + 1);\n    },\n    /**\n     * format string(8)\n     */\n    formatDate : function(date : any) : string {\n      if (typeof date == 'string' && date.match(/^\\d{8}$/) ) {\n        return date.substring(0, 4) +\n          '/' + date.substring(4, 6) +\n          '/' + date.substring(6, 8);\n      } else {\n        return '';\n      }\n    },\n    /**\n     * parse into string(8)\n     */\n    dateRe : /^(\\d{4})\\D(\\d{1,2})\\D(\\d{1,2})$/,\n    parseDate : function(value : any) : string {\n      if (typeof value == 'number') {\n        value = '' + value;\n      }\n      if (typeof value == 'string') {\n        var mat = value.match(this.dateRe);\n        if (mat) {\n          value = new Date(+mat[1], +mat[2] - 1, +mat[3]);\n        } else {\n          return value;\n        }\n      }\n      return this.fillLeftZero('' + value.getFullYear(), 4) +\n          this.fillLeftZero('' + (value.getMonth() + 1), 2) +\n          this.fillLeftZero('' + value.getDate(), 2);\n    },\n    isHoliday : function(date : Date) {\n      var day = date.getDay();\n      return day == 0 || day == 6; // sun or sat.\n    }\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  interface FilterItem {\n    index: number;\n    label: any;\n    value: string;\n    checked: boolean;\n    incomplete? : boolean;\n  }\n\n  var getFilterValues = function(\n      tableModel : TemplateTableModel, dataField : string) {\n    var comparator = tableModel.headCells[dataField].comparator;\n    var exists : { [ value : string ] : boolean } = {};\n    var filterValues : string[] = [];\n    var items = tableModel.items;\n    for (var i = 0; i < items.length; i += 1) {\n      var value = items[i][dataField];\n      if (typeof value == 'undefined') {\n        continue;\n      }\n      value = value === null? '' : '' + value;\n      if (!exists[value]) {\n        if (value != '') {\n          filterValues.push(value);\n        }\n        exists[value] = true;\n      }\n    }\n    if (comparator) {\n      filterValues.sort(comparator);\n    }\n    // blank is always last.\n    if (exists['']) {\n      filterValues.push('');\n    }\n    return filterValues;\n  };\n\n  var setToList = function(s : any) : any[] {\n    var l : any[] = [];\n    for (var v in s) { l.push(v); }\n    return l;\n  };\n\n  var listToSet = function(l : any[]) : any {\n    var s : any = {};\n    l.forEach(function(v) { s[v] = true; });\n    return s;\n  };\n\n  var operators = {\n    EQUALS : 'eq',\n    NOT_EQUALS : 'ne',\n    GREATER_THAN : 'gt',\n    GREATER_THAN_OR_EQUALS : 'ge',\n    LESS_THAN : 'lt',\n    LESS_THAN_OR_EQUALS : 'le',\n    STARTS_WITH : 'sw',\n    NOT_STARTS_WITH : 'nsw',\n    ENDS_WITH : 'ew',\n    NOT_ENDS_WITH : 'new',\n    CONTAINS : 'ct',\n    NOT_CONTAINS : 'nct',\n  };\n\n  var activeCustomFilter = function(customFilter : any) {\n    return customFilter.op1 && customFilter.const1 ||\n        customFilter.op2 && customFilter.const2\n  };\n\n  var createDefaultCustomFilter = function() {\n    return {\n      op : 'and', // 'and' or 'or'\n      op1 : '',\n      const1 : '',\n      op2 : '',\n      const2 : '',\n      dataType : ''\n    };\n  };\n\n  export class DefaultFilter implements Filter {\n\n    private dataType : string;\n\n    constructor(dataType : string) {\n      this.dataType = dataType;\n    }\n\n    public createUI(\n      dialog : () => EventTarget,\n      opts : FilterDialogOptions,\n      tableModel : TemplateTableModel,\n      cell : TemplateTableCell\n    ) : FilterUI {\n\n      var messages = i18n.getMessages();\n\n      var dataField = cell.dataField;\n      var filterValues = getFilterValues(tableModel, dataField);\n\n      var rejects : any = {};\n      var valid = true;\n\n      var filterItems : FilterItem[] = [ messages.SELECT_ALL ]\n        .concat(filterValues)\n        .map(function(value, i) {\n          return {\n            index : i,\n            label : (i > 0)? opts.labelFunction(value, cell) : value,\n            value : value,\n            checked : false\n          };\n        });\n\n      class FilterItemCell implements ListCell {\n        public checkBox = (() => {\n          var checkBox = ui.createCheckBox();\n          checkBox.$el.style.verticalAlign = 'middle';\n          return checkBox;\n        })();\n        private label = util.createElement('span', {\n          style : filterLabelStyle,\n          props : { textContent : 'M' } });\n        public index = 0;\n        public row = 0;\n        public setLabel(text : string) {\n          this.label.textContent = text || messages.SELECT_BLANK;\n          this.$el.setAttribute('title', this.label.textContent);\n        }\n        public $el = util.createElement('div', {\n            attrs : { 'class' : '${prefix}-clickable-op' },\n            on : {\n              mousedown : (event) => { event.preventDefault(); },\n              click : () => {\n                filterclick(this.index);\n              }\n            }\n          }, [ this.checkBox.$el, this.label ])\n      }\n\n      class FilterItemList extends ListImpl<FilterItem,FilterItemCell> {\n        public items = filterItems;\n        public getItemAt(row : number) { return this.items[row]; }\n        public getItemCount() { return this.items.length; }\n        public createCell() {\n          return new FilterItemCell();\n        }\n        public renderCell(cell : FilterItemCell, item : FilterItem) {\n          cell.index = item.index;\n          cell.setLabel(item.label);\n          cell.checkBox.setChecked(item.checked);\n          cell.checkBox.setIncomplete(item.incomplete);\n        }\n        public height = 0;\n        public maxHeight = 150;\n      }\n\n      var filterItemList = new FilterItemList();\n      filterItemList.on('rendered', function(event : Event, detail : any) {\n        var height = Math.min(this.maxHeight,\n            this.cellHeight * this.getItemCount() );\n        if (this.height != height) {\n          this.height = height;\n          this.$el.style.height = height + 'px';\n          this.invalidate();\n        }\n      })\n      filterItemList.$el.style.width = '150px';\n      filterItemList.$el.style.height = '0px';\n      filterItemList.invalidate();\n\n      var filterclick = function(index : number) {\n\n        if (index == 0) {\n          // select all\n          var selectCount = 0;\n          filterItems.forEach(function(filterItem, i) {\n            if (i > 0 && filterItem.checked) {\n              selectCount += 1;\n            }\n          });\n          var selectAll = selectCount != filterItems.length - 1;\n          filterItems.forEach(function(filterItem, i) {\n            if (i > 0) {\n              filterItem.checked = selectAll;\n            }\n          });\n        } else {\n          var filterItem = filterItems[index];\n          filterItem.checked = !filterItem.checked;\n        }\n\n        rejects = function() {\n          var rejects : any = {};\n          filterItems.forEach(function(filterItem, i) {\n            if (i > 0 && !filterItem.checked) {\n              rejects[filterItem.value] = true;\n            }\n          });\n          return rejects;\n        }();\n\n        filterchange();\n      };\n\n      var filterchange = function() {\n\n        var rejectCount = 0;\n        for (var value in rejects) {\n          rejectCount += 1;\n        }\n\n        // update 'select all' checkBox\n        filterItems[0].checked = rejectCount != filterItems.length - 1;\n        filterItems[0].incomplete = rejectCount != 0;\n\n        filterItemList.invalidate();\n      };\n\n      //---------------------------------------------------------\n      // custom filter\n\n      var customFilter = createDefaultCustomFilter();\n\n      var createClearButton = function() {\n        var checkBox = ui.createCheckBox();\n        util.extend(checkBox.$el.style,\n          { border : 'none', verticalAlign : 'middle' });\n        checkBox.setChecked(false);\n        var label = util.createElement('span', {\n              attrs : { 'class' : '${prefix}-clickable-op' },\n              style : filterLabelStyle,\n              props : { textContent :\n                util.format(messages.CLEAR_FILTER_FROM, (<any>cell).label) }\n            } );\n        return {\n          $el : util.createElement('div', [ checkBox.$el, label ],\n            { on : {\n                click : function(event) {\n                  (<any>dialog() ).dispose();\n                  rejects = {};\n                  customFilter = createDefaultCustomFilter();\n                  dialog().trigger('applyfilter');\n                }\n              }\n            }),\n          checkBox : checkBox\n        };\n      };\n\n      var createFilterButton = function(filterTitle : string) {\n        var checkBox = ui.createCheckBox();\n        util.extend(checkBox.$el.style,\n          { border : 'none', verticalAlign : 'middle' });\n        checkBox.setChecked(false);\n        var label = util.createElement('span', {\n              attrs : { 'class' : '${prefix}-clickable-op' },\n              style : filterLabelStyle,\n              props : { textContent : filterTitle }\n            } );\n        return {\n          $el : util.createElement('div', [ checkBox.$el, label ],\n            { on : {\n                click : function(event) {\n                  (<any>dialog() ).dispose();\n                  showFilterDialog(filterTitle);\n                }\n              }\n            }),\n          checkBox : checkBox\n        };\n      };\n\n      var showFilterDialog = function(title : string) {\n        var optMap = function(k : string) {\n          return { value : (<any>operators)[k], label : (<any>messages)[k] };\n        };\n        var opOpts : any[] = [ { value : '', label : '' } ];\n        opOpts = opOpts.concat([\n          'EQUALS',\n          'NOT_EQUALS',\n          'GREATER_THAN',\n          'GREATER_THAN_OR_EQUALS',\n          'LESS_THAN',\n          'LESS_THAN_OR_EQUALS'].map(optMap) );\n        if (dataType == 'string' ||\n            dataType == 'multi-line-string' ||\n            dataType == 'date') {\n          opOpts = opOpts.concat([\n            'STARTS_WITH',\n            'NOT_STARTS_WITH',\n            'ENDS_WITH',\n            'NOT_ENDS_WITH',\n            'CONTAINS',\n            'NOT_CONTAINS'].map(optMap) );\n        }\n        var createOpUI = function(op : string, value : string) {\n          var sel :any = util.createElement('select',\n            opOpts.map(function(opOpt) {\n              return util.createElement('option', {\n                props : { textContent : opOpt.label,\n                    value : opOpt.value,\n                    selected : op == opOpt.value } });\n            }) );\n          var txt : any = util.createElement('input',\n            { attrs : { type : 'text' },\n              style : { width : '200px' },\n              props : { value : sel.value? value : '' } } );\n          var opBody = util.createElement('div',\n            { style : { whiteSpace: 'nowrap' } });\n          if (messages.OP_LAYOUT == 'L') {\n            opBody.appendChild(sel);\n            txt.style.marginLeft = '2px';\n          }\n          opBody.appendChild(txt);\n          if (messages.OP_LAYOUT == 'R') {\n            txt.style.marginRight = '2px';\n            opBody.appendChild(sel);\n          }\n          return { $el : opBody, sel : sel, txt : txt };\n        };\n\n        var updateRadios = function() {\n          customFilter.op = customFilter.op || 'and';\n          rd1.radio.checked = rd1.radio.value == customFilter.op;\n          rd2.radio.checked = rd2.radio.value == customFilter.op;\n        };\n        var createRadio = function(value : string, label : string) {\n          var radio : any = util.createElement('input',\n            { attrs : { type : 'radio' }, props : { value : value },\n              on : { click : function() {\n                customFilter.op = value;\n                updateRadios();\n              } } });\n          var radioBody = util.createElement('label',\n            [ radio, <any>document.createTextNode(label) ]);\n          return { $el : radioBody, radio : radio };\n        };\n\n        var rd1 = createRadio('and', messages.AND);\n        var rd2 = createRadio('or', messages.OR);\n        var rdGrp = util.createElement('div', [ rd1.$el, rd2.$el ]);\n        updateRadios();\n\n        var op1 = createOpUI(customFilter.op1, customFilter.const1);\n        var op2 = createOpUI(customFilter.op2, customFilter.const2);\n\n        var dialogPos = { left : 0, top : 0 };\n\n        var cfDialog = <ui.Dialog>ui.createDialog([\n          util.createElement('div', { props : { textContent : title },\n            style : { margin : '2px' },\n            on: {\n              mousedown: function(event) {\n                var mousemoveHandler = function(event : any) {\n                  dialogPos.left = event.pageX - dragPoint.left;\n                  dialogPos.top = event.pageY - dragPoint.top;\n                  cfDialog.$el.style.left = dialogPos.left + 'px';\n                  cfDialog.$el.style.top = dialogPos.top + 'px';\n                };\n                var mouseupHandler = function(event : any) {\n                  util.$(document)\n                    .off('mousemove', mousemoveHandler)\n                    .off('mouseup', mouseupHandler);\n                };\n\n                event.preventDefault();\n                util.$(document)\n                  .on('mousemove', mousemoveHandler)\n                  .on('mouseup', mouseupHandler);\n                var dragPoint = {\n                  left: event.pageX - dialogPos.left,\n                  top: event.pageY - dialogPos.top\n                };\n              }\n            } }),\n          util.createElement('fieldset', [\n            util.createElement('legend', { props : {\n              textContent: '\"' + (<any>cell).label +'\"' } }),\n            op1.$el, rdGrp, op2.$el ]),\n          util.createElement('div',\n            { style : { textAlign : 'right' } }, [\n            ui.createButton(messages.OK, (event)=>{\n              var flt = function(val : string) : string {\n                val = util.trim(val);\n                if (dataType == 'number') {\n                  val = util.toNarrowNumber(val);\n                }\n                return val;\n              };\n              customFilter.op1 = op1.sel.value;\n              customFilter.const1 = customFilter.op1? flt(op1.txt.value) : '';\n              customFilter.op2 = op2.sel.value;\n              customFilter.const2 = customFilter.op2? flt(op2.txt.value) : '';\n              cfDialog.dispose();\n              dialog().trigger('applyfilter');\n            }),\n            ui.createButton(messages.CANCEL, (event)=>{\n              cfDialog.dispose();\n            })\n          ])\n        ]).on('beforeshow', function() {\n          dialogPos.left = document.documentElement.scrollLeft +\n            ( (window.innerWidth - this.$el.offsetWidth) / 2 );\n          dialogPos.top = document.documentElement.scrollTop +\n            ( (window.innerHeight - this.$el.offsetHeight) / 2 );\n          this.$el.style.left = dialogPos.left + 'px';\n          this.$el.style.top = dialogPos.top + 'px';\n        });\n\n        cfDialog.show();\n      };\n\n      var dataType = this.dataType || 'string';\n      var customFilterButton = createFilterButton(\n        dataType == 'number'? messages.NUMBER_FILTERS :\n        dataType == 'date'? messages.DATE_FILTERS :\n        messages.TEXT_FILTERS);\n\n      if (!(dataType == 'string' ||\n          dataType == 'multi-line-string' ||\n          dataType == 'number' ||\n          dataType == 'date') ) {\n        customFilterButton.$el.style.display = 'none';\n      }\n\n      // horizontal bar\n      var hr = () => util.createElement('div', { style : {\n        borderTop : '1px solid #000', opacity : '0.2', margin : '4px 0px'\n      } });\n\n      return {\n        setState : (state : any) => {\n          rejects = listToSet(state.rejects);\n          filterItems.forEach(function(filterItem, i) {\n            if (i > 0) {\n              filterItem.checked = !rejects[filterItem.value];\n            }\n          });\n          filterchange();\n          customFilter = state.customFilter;\n          customFilterButton.checkBox.setChecked(\n            activeCustomFilter(customFilter) );\n        },\n        getState : () => {\n\n          if (!valid) {\n            rejects = {};\n            filterItems.forEach(function(filterItem, i) {\n              if (i > 0) {\n                rejects[filterItem.value] = true;\n              }\n            });\n            filterItemList.items.forEach(function(filterItem) {\n              if (filterItem.checked) {\n                delete rejects[filterItem.value];\n              }\n            });\n            valid = true;\n          }\n\n          customFilter.dataType = dataType;\n          return {\n            rejects : setToList(rejects),\n            customFilter : customFilter\n          };\n        },\n        $el : util.createElement('div', { props : {} }, [\n          hr(),\n          createClearButton().$el,\n          customFilterButton.$el,\n          hr(),\n          // search box\n          util.createElement('input', { attrs : { type : 'text',\n              placeHolder: messages.SEARCH },\n            style : { width : '150px', margin : '4px 0px' },\n            on : { keyup : function(event) {\n              valid = false;\n              var value = event.currentTarget.value;\n              filterItemList.items = filterItems.\n                  filter(function(filterItem, i) {\n                return !(i > 0 && value &&\n                  (filterItem.label || '').indexOf(value) == -1);\n              });\n              filterItemList.invalidate();\n            }} }),\n          // filter items\n          filterItemList.$el\n        ])\n      };\n    }\n\n    public enabled() {\n      var enabled = false;\n      for (var reject in this.rejects) {\n        enabled = true;\n        break;\n      }\n      if (activeCustomFilter(this.customFilter) ) {\n        enabled = true;\n      }\n      return enabled;\n    }\n\n    public accept(value : any) {\n      if (this.rejects[value === null? '' : '' + value]) {\n        return false;\n      }\n      if (value === null) {\n        if (this.dataType == 'number') {\n          value = 0;\n        } else {\n          value = '';\n        }\n      }\n      if (!this.customFilterAccept(value) ) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n    private createCustomFilterAccept(customFilter : any) :\n        (value : any) => boolean {\n\n      if (activeCustomFilter(customFilter) ) {\n\n        var creOp = function(op : string, constVal : any) :\n            (value : any) => boolean {\n\n          if (customFilter.dataType == 'number') {\n\n            // number\n\n            constVal = +constVal;\n\n            switch(op) {\n\n            case operators.EQUALS :\n              return (value : any) => +value == constVal;\n            case operators.NOT_EQUALS :\n              return (value : any) => !(+value == constVal);\n            case operators.GREATER_THAN :\n              return (value : any) => +value > constVal;\n            case operators.GREATER_THAN_OR_EQUALS :\n              return (value : any) => +value >= constVal;\n            case operators.LESS_THAN :\n              return (value : any) => +value < constVal;\n            case operators.LESS_THAN_OR_EQUALS :\n              return (value : any) => +value <= constVal;\n\n            default :\n              throw 'bad op:' + op;\n            }\n\n          } else {\n\n            // string\n\n            switch(op) {\n\n            case operators.EQUALS :\n              return (value : any) => value == constVal;\n            case operators.NOT_EQUALS :\n              return (value : any) => value != constVal;\n            case operators.GREATER_THAN :\n              return (value : any) => value > constVal;\n            case operators.GREATER_THAN_OR_EQUALS :\n              return (value : any) => value >= constVal;\n            case operators.LESS_THAN :\n              return (value : any) => value < constVal;\n            case operators.LESS_THAN_OR_EQUALS :\n              return (value : any) => value <= constVal;\n\n            case operators.STARTS_WITH :\n              return (value : any) => value.indexOf(constVal) == 0;\n            case operators.NOT_STARTS_WITH :\n              return (value : any) => value.indexOf(constVal) != 0;\n            case operators.ENDS_WITH :\n              return (value : any) => value && value.indexOf(constVal) ==\n                value.length - constVal.length;\n            case operators.NOT_ENDS_WITH :\n              return (value : any) => !(value && value.indexOf(constVal) ==\n                value.length - constVal.length);\n            case operators.CONTAINS :\n              return (value : any) => value.indexOf(constVal) != -1;\n            case operators.NOT_CONTAINS :\n              return (value : any) => value.indexOf(constVal) == -1;\n\n            default :\n              throw 'bad op:' + op;\n            }\n          }\n        };\n\n        var ops : any[] = [];\n        if (customFilter.const1) {\n          ops.push(creOp(customFilter.op1, customFilter.const1) );\n        }\n        if (customFilter.const2) {\n          ops.push(creOp(customFilter.op2, customFilter.const2) );\n        }\n\n        return ops.length == 1? ops[0] :\n          customFilter.op == 'and'?\n            (value : any) => ops[0](value) && ops[1](value) :\n            (value : any) => ops[0](value) || ops[1](value);\n\n      } else {\n        return () => true;\n      }\n    }\n\n    private rejects : any = {};\n    private customFilter : any = {};\n    private customFilterAccept : (value : any) => boolean = () => true;\n\n    public setState(state : any) {\n      this.rejects = listToSet(\n        state && state.rejects? state.rejects : []);\n      this.customFilter =\n        state && state.customFilter? state.customFilter : {};\n      this.customFilterAccept =\n        this.createCustomFilterAccept(this.customFilter);\n    }\n\n    public getState() : any {\n      return {\n        rejects : setToList(this.rejects),\n        customFilter : this.customFilter\n      };\n    }\n  }\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  interface Selector {\n    $el : HTMLElement,\n    selected : boolean,\n    setSelected : (selected : boolean) => void;\n    isSelected : () => boolean;\n  }\n\n  interface FilterButton {\n    $el : HTMLElement;\n    cell : TemplateTableCell;\n    filtered : boolean;\n    sortOrder : string;\n    setFiltered : (filtered : boolean) => void;\n    setSortOrder : (sortOrder : string) => void;\n    update : () => void;\n  }\n\n  export interface FilterDialogOptions extends CellRendererFactoryOpts {\n    sortOrder : string;\n    filterState : any;\n  }\n\n  interface FilterDialog extends EventTarget {\n    render : (cell : TableCell) => void;\n    beginEdit : (cell : TableCell) => {\n      focus : () => void;\n      endEdit : () => void;\n    };\n    dispose : () => void;\n  }\n\n  export var SortOrder = { ASC : 'asc', DESC : 'desc' };\n\n  // selector of sort order\n  var createSelector = function() : Selector {\n    var rect = util.createElement('span', {\n      attrs : { 'class' : '${prefix}-selector-body' }, \n      style : { display:'inline-block', width:'12px', height : '12px' }\n    });\n    return {\n      $el : rect,\n      selected : false,\n      setSelected : function(selected) {\n        this.selected = selected;\n        util.$(rect).addClass('${prefix}-selected', !selected);\n      },\n      isSelected : function() {\n        return this.selected;\n      }\n    };\n  };\n\n  export var filterLabelStyle : { [ k : string ] : string } =\n      { marginLeft : '4px', verticalAlign : 'middle' };\n\n  var createFilterDialog = function(\n      opts : FilterDialogOptions, filterUI : HTMLElement) {\n\n    var messages = i18n.getMessages();\n\n    var createSortButton = function(label : string) {\n      var selector = createSelector();\n      selector.$el.style.verticalAlign = 'middle';\n      return {\n        selector : selector,\n        $el : util.createElement('div', [\n          selector.$el,\n          util.createElement('span', {\n            style : filterLabelStyle, props : { textContent : label } })\n        ], { attrs : { 'class' : '${prefix}-clickable-op' }, on : {\n          mousedown : function(event) { event.preventDefault(); },\n          click : function() {\n            flDialog.trigger('sortclick', { label : label }); }\n        } })\n      };\n    };\n\n    var sortAscButton = createSortButton(messages.SORT_ASC);\n    var sortDescButton = createSortButton(messages.SORT_DESC);\n\n    var flDialog = util.extend(ui.createDialog([\n      // sort\n      sortAscButton.$el,\n      sortDescButton.$el,\n      filterUI,\n      // buttons\n      util.createElement('div', { style :\n          { marginTop : '4px', display : 'inline-block', float : 'right' } },\n        [\n          ui.createButton(messages.OK, function() {\n            flDialog.dispose();\n            flDialog.trigger('applyfilter');\n          }),\n          ui.createButton(messages.CANCEL, function() {\n            flDialog.dispose();\n          })\n        ])\n    ]), opts).on('sortclick', function(event : Event, detail : any) {\n\n      if (detail.label == messages.SORT_ASC) {\n        this.sortOrder = this.sortOrder == SortOrder.ASC? null : SortOrder.ASC;\n      }\n      if (detail.label == messages.SORT_DESC) {\n        this.sortOrder = this.sortOrder == SortOrder.DESC? null : SortOrder.DESC;\n      }\n\n      this.trigger('sortchange');\n\n      this.dispose();\n      this.trigger('applysort');\n\n    }).on('sortchange', function() {\n\n      sortAscButton.selector.setSelected(this.sortOrder == SortOrder.ASC);\n      sortDescButton.selector.setSelected(this.sortOrder == SortOrder.DESC);\n\n    } ).trigger('sortchange');\n\n    return flDialog;\n  };\n\n  var createFilterButton = function() : FilterButton {\n    return {\n      $el : util.createSVGElement('svg',\n          { style : { position : 'absolute' },\n            attrs : { width : '15', height : '15',\n            'class' : '${prefix}-filter-button ${prefix}-clickable-op' } }),\n      filtered : false,\n      sortOrder : null,\n      setFiltered : function(filtered : boolean) {\n        this.filtered = filtered;\n        this.update();\n      },\n      setSortOrder : function(sortOrder : string) {\n        this.sortOrder = sortOrder;\n        this.update();\n      },\n      update : function() {\n        // remove all children\n        while (this.$el.firstChild) {\n          this.$el.removeChild(this.$el.firstChild);\n        }\n        // outer rect\n        this.$el.appendChild(util.createSVGElement('rect', {\n          attrs : { 'class' : '${prefix}-filter-body',\n            x : '0', y : '0', width: '15', height : '15',\n            rx: '3', ry : '3' } }) );\n        // and others.\n        var fillClass = '${prefix}-filter-fill';\n        var strokeClass = '${prefix}-filter-stroke';\n        if (this.filtered) {\n          this.$el.appendChild(util.createSVGElement('path', {\n            attrs : { 'class' : fillClass,\n              d : 'M 5 4 L 8 7 L 8 12 L 11 12 L 11 7 L 14 4 Z' } }) );\n          if (this.sortOrder == null) {\n            this.$el.appendChild(util.createSVGElement('path', {\n              attrs : { 'class' : fillClass, d: 'M 0 8 L 3 12 L 6 8 Z' } }) );\n          }\n        } else if (this.sortOrder == null) {\n          this.$el.appendChild(util.createSVGElement('path', {\n            attrs : { 'class' : fillClass, d: 'M 1 4 L 7 11 L 13 4 Z' } }) );\n        } else {\n          this.$el.appendChild(util.createSVGElement('path', {\n            attrs : { 'class' : fillClass, d: 'M 4 5 L 9 11 L 14 5 Z' } }) );\n        }\n        if (this.sortOrder != null) {\n          this.$el.appendChild(util.createSVGElement('path', {\n            attrs : { 'class' : strokeClass, d: 'M 3 2 L 3 12'} } ) );\n          if (this.sortOrder == SortOrder.ASC) {\n            this.$el.appendChild(util.createSVGElement('path', {\n              attrs : { 'class' : strokeClass, d: 'M 1 5 L 3 2 L 5 5'} }) );\n          } else {\n            this.$el.appendChild(util.createSVGElement('path', {\n              attrs : { 'class' : strokeClass, d : 'M 1 9 L 3 12 L 5 9' } }) );\n          }\n        }\n        return this;\n      }\n    }.update();\n  };\n\n  export var createDefaultHeaderCellRendererFactory =\n      function(opts? : CellRendererFactoryOpts) :\n        TableCellRendererFactory {\n\n    opts = util.extend(createDefaultCellRendererFactoryOpts(), opts || {});\n\n    return function(td) : TableCellRenderer {\n\n      var showFilterDialog = function() : FilterDialog {\n\n        var dataField = filterButton.cell.dataField;\n        var sort = tableModel.sort;\n        var filter = tableModel.getFilter(dataField);\n\n        opts = util.extend(opts, {\n          sortOrder : (sort && sort.dataField == dataField)? sort.order : null\n        });\n\n        var filterUI = filter.createUI(\n            () => flDialog,\n            <FilterDialogOptions>opts,\n            tableModel, filterButton.cell);\n        filterUI.setState(filter.getState() );\n\n        var flDialog : any = createFilterDialog(\n            <FilterDialogOptions>opts, filterUI.$el\n          ).on('applysort', function() {\n            tableModel.sort = this.sortOrder?\n                { dataField : dataField, order : this.sortOrder } :null;\n            tableModel.trigger('filterchange');\n          }).on('applyfilter', function() {\n            filter.setState(filterUI.getState() );\n            tableModel.trigger('filterchange');\n          });\n\n        var off = util.offset(td.$el);\n        flDialog.$el.style.left = off.left + 'px',\n        flDialog.$el.style.top = (off.top + td.$el.offsetHeight) + 'px';\n        flDialog.show();\n        return flDialog;\n      };\n\n      var initCheckBox = function() {\n        checkBox = ui.createCheckBox();\n        util.set(checkBox.$el, {\n          style : { verticalAlign: 'middle', marginRight: '2px' },\n          on : { mousedown : function(event) {\n            event.preventDefault();\n            // force valuecommit at first.\n            td.tableModel.trigger('valuecommit', { force : true });\n            var cell = (<any>checkBox).cell;\n            var booleanValues = cell.booleanValues || [ false, true ];\n            var itemCount = tableModel.getItemCount();\n            var editable : boolean[] = [];\n            var editableCount = 0;\n            var trueCount = 0;\n            for (var i = 0; i < itemCount; i += 1) {\n              var item = tableModel.getItemAt(i);\n              editable.push(!(tableModel.getItemStyleAt &&\n                tableModel.getItemStyleAt({\n                  row : i,\n                  col : cell.dataField\n                }).editable === false) );\n              if (editable[i]) {\n                editableCount += 1;\n                if (tableModel.getItemAt(i)[cell.dataField] === booleanValues[1]) {\n                  trueCount += 1;\n                }\n              }\n            }\n            var checked = trueCount != editableCount;\n            for (var i = 0; i < itemCount; i += 1) {\n              var item = tableModel.getItemAt(i);\n              if (editable[i]) {\n                item[cell.dataField] = booleanValues[checked? 1 : 0];\n              }\n            }\n            updateCheckBoxState();\n          }}});\n\n        if (!valuechangeHandler) {\n          valuechangeHandler = function(event, detail) {\n            if (detail.itemIndex.col == (<any>checkBox).cell.dataField) {\n              updateCheckBoxState();\n            }\n          };\n          tableModel.on('valuechange', valuechangeHandler);\n        }\n        td.$el.insertBefore(checkBox.$el, td.$el.firstChild);\n      };\n\n      var updateCheckBoxState = function() {\n        var cell = (<any>checkBox).cell;\n        var booleanValues = cell.booleanValues || [ false, true ];\n        var itemCount = tableModel.getItemCount();\n        var trueCount = 0;\n        for (var i = 0; i < itemCount; i += 1) {\n          if (tableModel.getItemAt(i)[cell.dataField] === booleanValues[1]) {\n            trueCount += 1;\n          }\n        }\n        checkBox.setChecked(trueCount > 0);\n        checkBox.setIncomplete(trueCount > 0 && trueCount != itemCount);\n      };\n\n      var initFilterButton = function() {\n        filterButton = createFilterButton();\n        util.set(filterButton.$el, {\n          attrs : { tabindex: '-1', focusable: 'false' },\n          on : { mousedown : function(event) {\n              event.preventDefault();\n              if (dialog == null) {\n                // wait for end edit then show dialog.\n                util.callLater(function() {\n                  dialog = showFilterDialog();\n                  dialog.on('dispose', function() {\n                    dialog = null;\n                  });\n                });\n              } else {\n                dialog.dispose();\n              }\n            }\n          }\n        });\n        td.$el.appendChild(filterButton.$el);\n      };\n\n      var labelRenderer = createMultiLineLabelRenderer(td.$el);\n\n      var tableModel : TemplateTableModel = <any>td.tableModel;\n      var checkBox : ui.CheckBox = null;\n      var filterButton : FilterButton = null;\n      var dialog : FilterDialog = null;\n\n      var valuechangeHandler : (event : any, detail : any) => void = null;\n\n      var showGroupCheck  = function(cell : any) {\n        return cell.dataType == 'boolean' && cell.showGroupCheck !== false;\n      };\n\n      return {\n        render : function(cell) {\n\n          labelRenderer.setLabel(cell.value || '\\u00a0');\n\n          // checckBox\n          if (showGroupCheck(cell) ) {\n            if (!checkBox) {\n              initCheckBox();\n            }\n            (<any>checkBox).cell = cell;\n          }\n          if (checkBox) {\n            if (showGroupCheck(cell) ) {\n              checkBox.$el.style.display = 'inline-block';\n              updateCheckBoxState();\n            } else {\n              checkBox.$el.style.display = 'none';\n            }\n          }\n\n          // filterButton\n          if (cell.dataField) {\n            if (!filterButton) {\n              initFilterButton();\n            }\n            filterButton.cell = cell;\n            var sort = tableModel.sort;\n            var filter = tableModel.getFilter(cell.dataField);\n            filterButton.setSortOrder(\n              (sort && sort.dataField == cell.dataField)? sort.order : null);\n            filterButton.setFiltered(filter.enabled() );\n          }\n          if (filterButton) {\n            filterButton.$el.style.display = cell.dataField? '' : 'none';\n          }\n        },\n        beginEdit : function(cell) {\n          return { focus : function() {}, endEdit : function() {} };\n        },\n        dispose : function() {\n          if (valuechangeHandler) {\n            tableModel.off('valuechange', valuechangeHandler);\n          }\n        }\n      };\n    };\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  var createDefaultOrderedColumnIndices = function(tableModel : TableModel) {\n    var orderedColumnIndices : number[] = [];\n    var columnCount = tableModel.getColumnCount();\n    for (var i = 0; i < columnCount; i += 1) {\n      orderedColumnIndices.push(i);\n    }\n    return orderedColumnIndices;\n  };\n\n  var showColumnEditDialog = function(table : TemplateTable) {\n\n    var messages = i18n.getMessages();\n    var tableModel = <TemplateTableModel>table.model;\n    var lockLeft : number = (<any>tableModel).lockLeft;\n\n    var ColumnType = { LOCK_COLUMN : 'lockColumn', COLUMN : 'column' };\n\n    interface ColumnItem {\n      type : string;\n      label : string;\n      hidden : boolean;\n      col? : number;\n      colSpan? : number;\n    }\n\n    var columns = function() {\n      var columns : ColumnItem[] = [];\n      var columnCount = tableModel.getColumnCount();\n      for (var col = 0; col <= columnCount;) {\n        if (col == lockLeft) {\n          columns.push({ type : ColumnType.LOCK_COLUMN,\n            label : messages.LOCK_COLUMN,\n            hidden : !tableModel.enableLockColumn });\n        }\n        if (col < columnCount) {\n          var cell = tableModel.getCellAt(0, col);\n          var style : any = tableModel.getCellStyleAt(0, col);\n          var desc = style.description;\n          var label = typeof desc == 'function'? desc(tableModel) : \n            typeof desc == 'undefined'? tableModel.getValueAt(0, col) : desc;\n          var orderedCol = tableModel.getOrderedColumnIndexAt(col);\n          columns.push({ type : ColumnType.COLUMN,\n            label : label,\n            hidden : !!tableModel.hiddenColumns[orderedCol],\n            col : orderedCol, colSpan : cell.colSpan });\n          col += cell.colSpan;\n        } else {\n          col += 1;\n        }\n      }\n      return columns;\n    }();\n\n    var columnItems = columns.map(function(column) {\n      return util.createElement('div', {\n          attrs : { 'class' : '${prefix}-listitem ${prefix}-clickable' +\n            (column.type == ColumnType.LOCK_COLUMN?\n                ' ${prefix}-column-edit-lock-column' : '') },\n          on : { mousedown : function(event) {\n            event.preventDefault();\n            columnItems.forEach(function(elm) {\n              util.$(elm).removeClass('${prefix}-clickable');\n            });\n            var mousemoveHandler = function(event : Event) {\n              if (!started && Math.abs(event.pageY - dragPoint.y) > 4) {\n                started = true;\n              }\n              if (!started) {\n                return;\n              }\n              var listitem = util.closest(event.target,\n                  { className : '${prefix}-listitem', root : dialog.$el });\n              if (!listitem) {\n                if (!scroll.active) {\n                  scroll.active = true;\n                  scroll.event = event;\n                  var scrollTarget = dialog.$el.firstChild;\n                  var off = util.offset(scrollTarget);\n                  var top : number = off.top + scrollTarget.scrollTop;\n                  var scrollHandler = function() {\n                    var pageY = scroll.event.pageY;\n                    var delta = 0;\n                    if (pageY < top) {\n                      delta = -scroll.delta;\n                    } else if (top + scrollTarget.offsetHeight < pageY) {\n                      delta = scroll.delta;\n                    }\n                    if (delta != 0) {\n                      scrollTarget.scrollTop += delta;\n                      bar.style.display = 'none';\n                    }\n                    if (scroll.active) {\n                      window.setTimeout(scrollHandler, scroll.timeout);\n                    }\n                  };\n                  scrollHandler();\n                } else {\n                  scroll.event = event;\n                }\n                return;\n              }\n              indexTo = columnItems.indexOf(listitem);\n              var off = util.offset(listitem);\n              var top = listitem.offsetTop - 2 -\n                    (<HTMLElement>listitem.parentNode).scrollTop;\n              if (off.top + listitem.offsetHeight / 2 < event.pageY) {\n                indexTo += 1;\n                top += listitem.offsetHeight;\n              }\n              bar.style.display = '';\n              bar.style.top = top + 'px';\n              scroll.active = false;\n            };\n            var mouseupHandler = function(event : Event) {\n              scroll.active = false;\n              util.$(document).off('mousemove', mousemoveHandler).\n                off('mouseup', mouseupHandler);\n              columnItems.forEach(function(elm) {\n                util.$(elm).addClass('${prefix}-clickable');\n              });\n              lastTarget = target;\n              dialog.$el.removeChild(bar);\n              if (indexTo != -1 && indexFrom != indexTo) {\n                var parent = target.parentNode;\n                var ref = columnItems[indexTo];\n                columns = util.moveSublist(columns, indexFrom, 1, indexTo);\n                columnItems = util.moveSublist(columnItems, indexFrom, 1, indexTo);\n                parent.removeChild(target);\n                if (ref) {\n                  parent.insertBefore(target, ref);\n                } else {\n                  parent.appendChild(target);\n                }\n              }\n            };\n            util.$(document).on('mousemove', mousemoveHandler).\n              on('mouseup', mouseupHandler);\n            var target = event.currentTarget;\n            var bar = util.createElement('div', {\n              attrs : { 'class' : '${prefix}-column-edit-bar' },\n              style : { position : 'absolute', left : '0px',\n                display : 'none', width : target.offsetWidth + 'px' }\n            });\n            var indexFrom = columnItems.indexOf(target);\n            var indexTo = -1;\n            var started = false;\n            var scroll = {\n              active : false,\n              event : null as Event,\n              delta : 16,\n              timeout : 100\n            };\n            var dragPoint = { x : event.pageX, y : event.pageY };\n            dialog.$el.appendChild(bar);\n            if (lastTarget != null) {\n              util.$(lastTarget).removeClass('${prefix}-selected');\n            }\n            util.$(target).addClass('${prefix}-selected');\n          }}\n        },[\n        util.createElement('input', {\n          attrs : { type : 'checkbox' },\n          props : { checked : !column.hidden },\n          style : { verticalAlign : 'middle' },\n          on:{ click : function(event) {\n            var target = event.currentTarget;\n            var index = util.indexOf(target.parentNode);\n            columns[index].hidden = !target.checked;\n          }}\n        }),\n        util.createElement('span', {\n          style : { verticalAlign : 'middle' },\n          props : { textContent : column.label }\n        }) ]);\n    });\n\n    var lastTarget : HTMLElement = null;\n\n    var dialog =  util.extend(ui.createDialog([\n      // columns\n      util.createElement('div',\n        { style : { overflow : 'auto',  height : '200px' } }, columnItems),\n      // buttons\n      util.createElement('div', { style : { float : 'right'} }, [\n        ui.createButton(messages.RESET, function() {\n          dialog.dispose();\n          tableModel.orderedColumnIndices = null;\n          tableModel.hiddenColumns = {};\n          tableModel.trigger('beforecellsizechange');\n          tableModel.setLockLeft(tableModel.defaultLockColumn);\n          tableModel.enableLockColumn = true;\n          table.invalidate();\n        }),\n        ui.createButton(messages.APPLY, function() {\n          dialog.dispose();\n          var orderedColumnIndices : number[] = [];\n          var hiddenColumns : { [ orderedCol : number ] : boolean } = {};\n          var lockColumn = 0;\n          var enableLockColumn = true;\n          columns.forEach(function(column, col) {\n            if (column.type == 'column') {\n              for (var i = 0; i < column.colSpan; i += 1) {\n                orderedColumnIndices.push(i + column.col);\n              }\n              if (column.hidden) {\n                hiddenColumns[column.col] = true;\n              }\n            } else if (column.type == ColumnType.LOCK_COLUMN) {\n              lockColumn = col < columns.length - 1? col : 0;\n              enableLockColumn = !column.hidden;\n            }\n          });\n          tableModel.orderedColumnIndices = orderedColumnIndices;\n          tableModel.hiddenColumns = hiddenColumns;\n          tableModel.trigger('beforecellsizechange');\n          tableModel.setLockLeft(lockColumn);\n          tableModel.enableLockColumn = enableLockColumn;\n          table.invalidate();\n        }),\n        ui.createButton(messages.CANCEL, function() {\n          dialog.dispose();\n        })\n      ])\n    ])).on('beforeshow', function() {\n      var left = document.documentElement.scrollLeft +\n        ( (window.innerWidth - this.$el.offsetWidth) / 2 );\n      var top = document.documentElement.scrollTop +\n        ( (window.innerHeight - this.$el.offsetHeight) / 2 );\n      this.$el.style.left = left + 'px';\n      this.$el.style.top = top + 'px';\n    });\n    dialog.show();\n  };\n\n  var enableHover = function(table : Table) {\n    var tableModel = <TemplateTableModel>table.model;\n    var setHoverRowImpl = function(row : number, hover : boolean) {\n      table.forEachCells(function(td) {\n        var itemIndex = tableModel.getItemIndexAt(td.row, td.col);\n        if (itemIndex.row != row) {\n          // skip\n          return;\n        }\n        util.$(td.$el).addClass('${prefix}-item-hover', !hover);\n        //var cs = null;\n        for (var i = 0; i < td.$el.childNodes.length; i += 1) {\n          var child = td.$el.childNodes[i];\n          /*\n          if (child.tagName == 'INPUT' || child.tagName == 'SELECT') {\n            if (cs == null) {\n              cs = window.getComputedStyle(td.$el, null);\n            }\n            child.style.backgroundColor = cs.backgroundColor;\n          }\n          */\n        }\n        return false;\n      });\n    };\n\n    var setHoverRow = function(hoverRow : number) {\n      if (tableModel.hoverRow != hoverRow) {\n        if (tableModel.hoverRow != -1) {\n          setHoverRowImpl(tableModel.hoverRow, false);\n        }\n        tableModel.hoverRow = hoverRow;\n        if (tableModel.hoverRow != -1) {\n          setHoverRowImpl(tableModel.hoverRow, true);\n        }\n      }\n    };\n\n    return table.on('mouseover', function(event, detail) {\n        setHoverRow(detail.itemIndex.row);\n      }).\n      on('mouseout', function(event, detail) {\n        setHoverRow(-1);\n      });\n  };\n\n  var enableRowSelect = function(table : Table) {\n    return table.on('click', function(event, detail) {\n      if (detail.itemIndex.row != -1) {\n        var lastSelectedRows : { [row : string] : boolean } = {};\n        for (var k in this.model.selectedRows) {\n          lastSelectedRows[k] = true;\n        }\n        if (this.model.multipleRowsSelectable && detail.originalEvent.ctrlKey) {\n          // ctrl + click : toggle selection\n          if (!this.model.selectedRows[detail.itemIndex.row]) {\n            this.model.selectedRows[detail.itemIndex.row] = true;\n          } else {\n            delete this.model.selectedRows[detail.itemIndex.row];\n          }\n        } else {\n          this.model.selectedRows = {};\n          this.model.selectedRows[detail.itemIndex.row] = true;\n        }\n\n        // check changed.\n        var changed = false;\n        for (var k in this.model.selectedRows) {\n          if (lastSelectedRows[k]) {\n            delete lastSelectedRows[k];\n          } else {\n            changed = true;\n            break;\n          }\n        }\n        for (var k in lastSelectedRows) {\n          changed = true;\n          break;\n        }\n\n        if (changed) {\n          this.render(null, true);\n          this.model.trigger('rowselectionchange',\n              { selectedRows : this.model.selectedRows, reason : 'click' });\n        }\n      }\n    });\n  };\n\n  var setupDefaults = function(template : TableTemplate) {\n\n    // body => head,foot\n    var inheritFromBody = [ 'dataType',\n      'options', 'labelField', 'valueField',\n      'decimalDigits', 'booleanValues' ];\n    var bodyDataCells : any = {};\n    template.tbody.forEach(function(tr) {\n      tr.forEach(function(cell) {\n        if (typeof cell.dataField == 'string' &&\n            !bodyDataCells[cell.dataField]) {\n          bodyDataCells[cell.dataField] = cell;\n        }\n      });\n    });\n    template.thead.forEach(function(tr) {\n      tr.forEach(function(cell) {\n        if (typeof cell.dataField == 'string') {\n          var bodyDataCell = bodyDataCells[cell.dataField];\n          if (bodyDataCell) {\n            inheritFromBody.forEach(function(prop) {\n              if (bodyDataCell[prop] &&\n                  typeof (<any>cell)[prop] == 'undefined') {\n                (<any>cell)[prop] = bodyDataCell[prop];\n              }\n            });\n          }\n        }\n      });\n    });\n    template.tfoot.forEach(function(tr) {\n      tr.forEach(function(cell) {\n        if (typeof cell.dataField == 'string') {\n          var bodyDataCell = bodyDataCells[cell.dataField];\n          if (bodyDataCell) {\n            inheritFromBody.forEach(function(prop) {\n              if (bodyDataCell[prop] &&\n                  typeof (<any>cell)[prop] == 'undefined') {\n                (<any>cell)[prop] = bodyDataCell[prop];\n              }\n            });\n          }\n        }\n      });\n    });\n\n    template.thead.forEach(function(row) {\n      row.forEach(function(cell) {\n        if (!cell.factory && cell.dataType) {\n          cell.factory = createDefaultHeaderCellRendererFactory(cell);\n        }\n      });\n    });\n    template.tbody.forEach(function(row) {\n      row.forEach(function(cell) {\n        if (!cell.factory && cell.dataType) {\n          cell.factory = createDefaultCellRendererFactory(cell);\n        }\n      });\n    });\n    template.tfoot.forEach(function(row) {\n      row.forEach(function(cell) {\n        if (!cell.factory && cell.dataType) {\n          cell.factory = createDefaultCellRendererFactory(cell);\n        }\n      });\n    });\n  };\n\n  export var fromTemplate =\n      function(template : TableTemplate) : TemplateTable {\n\n    if (template.thead && !template.tbody) {\n      // set default tbody if not exists.\n      var cloneIfExists = function(src : any, props : string[]) {\n        var dst : any = {};\n        props.forEach(function(prop) {\n          !src[prop] || (dst[prop] = src[prop]);\n        });\n        return dst;\n      };\n      var props = [ 'colSpan', 'rowSpan', 'dataField' ];\n      template.tbody = template.thead.map(function(tr) {\n        return tr.map(function(headCell) {\n          return cloneIfExists(headCell, props);\n        });\n      });\n    }\n\n    template.thead = template.thead || [];\n    template.tbody = template.tbody || [];\n    template.tfoot = template.tfoot || [];\n\n    // setup defaults.\n    setupDefaults(template);\n\n    var columnCount = 0;\n    var cellWidth : { [k : number] : number } = {};\n    var cellHeight : { [k : number] : number } = {};\n    var columnResizable : { [k : number] : boolean } = {};\n\n    var styles = function() {\n      var spaned : { [ id : string ] : boolean } = {};\n      var setSpaned = function(row : number, col : number, cell : TableCell) {\n        for (var r = 0; r < cell.rowSpan; r += 1) {\n          for (var c = 0; c < cell.colSpan; c += 1) {\n            spaned[util.getCellId(row + r, col + c)] = true;\n          }\n        }\n      };\n      return template.thead\n          .concat(template.tbody)\n          .concat(template.tfoot).map(function(tr, row) {\n        var style : { [ col : number ] : TableTemplateCellStyle } = {};\n        var col = 0;\n        var c = 0;\n        while (c < tr.length) {\n          var id = util.getCellId(row, col);\n          if (spaned[id]) {\n            col += 1;\n            continue;\n          }\n          var td = tr[c];\n          var cell = util.extend({ rowSpan : 1, colSpan : 1 }, td);\n          setSpaned(row, col, cell);\n          if (typeof cell.width == 'number') {\n            cellWidth[col] = cell.width;\n          }\n          if (typeof cell.height == 'number') {\n            cellHeight[row] = cell.height;\n          }\n          if (typeof cell.columnResizable == 'boolean') {\n            columnResizable[col] = cell.columnResizable;\n          }\n          (<any>td)['.col'] = col;\n          style[col] = td;\n          col += cell.colSpan;\n          c += 1;\n        }\n        columnCount = Math.max(columnCount, col);\n        return style;\n      });\n    }();\n\n    var getCellsByDataField = function(cellList: TableTemplateCellStyle[][]) {\n      var cells : { [ dataField : string ] : TableTemplateCellStyle } = {};\n      cellList.forEach(function(tr, row) {\n        tr.forEach(function(td : any) {\n          if (td.dataField && !cells[td.dataField]) {\n            cells[td.dataField] = util.extend(\n              { row: row, col: td['.col']}, td);\n          }\n          // delete temporary.\n          delete td['.col'];\n        });\n      });\n      return cells;\n    };\n\n    var getCellStyleAt = function(\n        model : TemplateTableModel, row : number, col : number) {\n      if (row < headLength) {\n        return styles[row][col] || {};\n      } else if (row >= model.getRowCount() - footLength) {\n        return styles[row - bodyLength * (model.getItemCount() - 1)][col] || {};\n      } else {\n        return styles[headLength + (row - headLength) % bodyLength][col] || {};\n      }\n    };\n\n    var headLength = template.thead.length;\n    var bodyLength = template.tbody.length;\n    var footLength = template.tfoot.length;\n\n    class TemplateTableImpl extends TableImpl implements TemplateTable {\n\n      public getContextMenuItems() {\n        var messages = i18n.getMessages();\n        var tableModel = table.model as TemplateTableModel;\n        return [\n          {\n            label : messages.RESET_FILTER,\n            action : function() {\n              tableModel.resetFilter();\n            }\n          },\n          {\n            label : messages.EDIT_COLUMNS,\n            action : function() {\n              showColumnEditDialog(table);\n            }\n          }\n        ].filter(function(menuitem, i) {\n            return !(!table.model.isColumnDraggable() &&\n              menuitem.label == messages.EDIT_COLUMNS);\n        });\n      }\n    }\n\n    class TemplateTableModelImpl\n    extends DefaultTableModel implements TemplateTableModel {\n      public headCells = getCellsByDataField(template.thead);\n      public bodyCells = getCellsByDataField(template.tbody);\n      public footCells = getCellsByDataField(template.tfoot);\n      public lockLeft = template.lockColumn || 0;\n      public lockRight = 0;\n      public enableLockColumn = true;\n      // keep default value for restore.\n      public defaultLockColumn = this.lockLeft;\n\n      public setLockLeft(lockLeft : number) {\n        this.lockLeft = lockLeft;\n      }\n      public getLockLeft() {\n        return !this.enableLockColumn? 0 : this.lockLeft;\n      }\n      public getLockTop() { return headLength; }\n\n      public setLockRight(lockRight : number) {\n        this.lockRight = lockRight;\n      }\n      public getLockRight() {\n        return this.lockRight;\n      }\n      public getLockBottom() { return footLength; }\n\n      // user defines\n      public defaultHeaderCellRendererFactory =\n        createDefaultHeaderCellRendererFactory();\n      public cellWidth = cellWidth;\n      public cellHeight = cellHeight;\n      public columnDraggable = template.columnDraggable;\n      public columnResizable = columnResizable;\n      public orderedColumnIndices : number[] = null;\n      public sort : Sort = null;\n      private filters : { [ dataField : string ] : Filter } = {};\n      public filterFactory(dataField : string) : Filter {\n        return new DefaultFilter(this.headCells[dataField].dataType || 'string');\n      }\n      public getFilter(dataField : string) : Filter {\n        return this.filters[dataField] ||\n          (this.filters[dataField] = this.filterFactory(dataField) );\n      }\n      public hiddenColumns : { [ orderedCol : number ] : boolean } = {};\n      public isColumnHiddenAt(col : number) {\n        var orderedCol = this.getOrderedColumnIndexAt(col);\n        return this.hiddenColumns[orderedCol];\n      }\n      public items : any[] = [];\n      public filteredItems : any[] = null;\n      public hoverRow = -1;\n      public editingCell : { row : number, col : number } = null;\n      public multipleRowsSelectable = false;\n      public selectedRows : { [ row : number ] : boolean } = {};\n      public resetFilter() {\n        this.sort = null;\n        for (var dataField in this.headCells) {\n          this.getFilter(dataField).setState(null);\n        }\n        this.filteredItems = null;\n        table.invalidate();\n      }\n      public getItemCount() {\n        return (this.filteredItems || this.items).length;\n      }\n      public getItemAt(row : number) {\n        return (this.filteredItems || this.items)[row];\n      }\n      private getOrderedColumnIndices() {\n        if (this.orderedColumnIndices == null) {\n          this.orderedColumnIndices = createDefaultOrderedColumnIndices(this);\n        }\n        return this.orderedColumnIndices;\n      }\n      public getOrderedColumnIndexAt(col : number) {\n        return this.getOrderedColumnIndices()[col];\n      }\n      public getRawColumnAt(col : number) {\n        var indices = this.getOrderedColumnIndices();\n        for (var i = 0; i < indices.length; i += 1) {\n          if (indices[i] == col) {\n            return i;\n          }\n        }\n        return 0;\n      }\n      public forEachItemCells(\n          callback : (\n            cell : TableTemplateCellStyle,\n            item : any, row : number, col : number) => boolean) : void {\n\n        var cells : { dataField : string, row : number, col : number}[]= [];\n        !function() {\n          for (var dataField in this.bodyCells) {\n            var cell = this.bodyCells[dataField];\n            cells.push({\n              dataField : dataField,\n              row : cell.row,\n              col : this.getRawColumnAt(cell.col)\n            });\n          }\n        }.bind(this)();\n        cells.sort(function(c1, c2) {\n          if (c1.row != c2.row) {\n            return c1.row < c2.row? -1 : 1;\n          }\n          return c1.col < c2.col? -1 : 1;\n        });\n\n        var lineRowOffset = this.getLineRowCountAt(0);\n        var lineRowCount = this.getLineRowCountAt(this.getLockTop() );\n        var items = this.filteredItems || this.items;\n\n        for (var r = 0; r < items.length; r += 1) {\n          var item = items[r];\n          for (var c = 0; c < cells.length; c += 1) {\n            var cell = cells[c];\n            var col = cell.col;\n            var row = lineRowOffset + r * lineRowCount + cell.row;\n            if (callback(cell, item, row, col) ) {\n              return;\n            }\n          }\n        }\n      }\n      public getItemIndexAt(row : number, col : number) : ItemIndex {\n        if (row < headLength) {\n          return { row : -1, col : -1 };\n        } else if (row >= this.getRowCount() - footLength) {\n          return { row : -1, col : -1 };\n        } else {\n          var orderedCol = this.getOrderedColumnIndexAt(col);\n          var style = getCellStyleAt(this, row, orderedCol);\n          row -= headLength;\n          return {\n            row : Math.floor(row / bodyLength),\n            col : style.dataField ||\n              ( (row % bodyLength) * this.getColumnCount() + orderedCol)\n          };\n        }\n      }\n      public setValueAt(row : number, col : number, value : any) {\n        if (row < headLength) {\n        } else if (row >= this.getRowCount() - footLength) {\n        } else {\n          var itemIndex = this.getItemIndexAt(row, col);\n          var item = this.getItemAt(itemIndex.row);\n          if (item) {\n            item[itemIndex.col] = value;\n          }\n        }\n      }\n      // overrides\n      public getRowCount() { return headLength +\n        bodyLength * this.getItemCount() + footLength; }\n      public getColumnCount() { return columnCount; }\n      public getLineRowCountAt(row : number) {\n        return row < headLength? headLength :\n          row >= this.getRowCount() - footLength? footLength :\n          bodyLength; }\n      public getLineRowAt(row : number) {\n        return row < headLength? row :\n          row >= this.getRowCount() - footLength?\n              row - (this.getRowCount() - footLength) :\n          (row - headLength) % bodyLength; }\n      public getCellWidthAt(col : number) {\n        var orderedCol = this.getOrderedColumnIndexAt(col);\n        if (this.hiddenColumns[orderedCol]) {\n          return 0;\n        }\n        var v = this.cellWidth[orderedCol];\n        return typeof v == 'number'? v : this.defaultCellWidth;\n      }\n      public getCellHeightAt(row : number) {\n        var r = row < headLength? row :\n          row >= this.getRowCount() - footLength?\n              row - (this.getRowCount() - footLength) +\n                headLength + bodyLength :\n          (row - headLength) % bodyLength + headLength;\n        var v = this.cellHeight[r];\n        return typeof v == 'number'? v : this.defaultCellHeight;\n      }\n      public isColumnDraggable() {\n        var v = this.columnDraggable;\n        return typeof v == 'boolean'? v : true;\n      }\n      public isColumnResizableAt(col : number) {\n        var orderedCol = this.getOrderedColumnIndexAt(col);\n        var v = this.columnResizable[orderedCol];\n        return typeof v == 'boolean'? v : true;\n      }\n      public getCellRendererFactoryAt(row : number, col : number) :\n          TableCellRendererFactory {\n        var orderedCol = this.getOrderedColumnIndexAt(col);\n        return getCellStyleAt(this, row, orderedCol).factory ||\n          (row < headLength?\n            this.defaultHeaderCellRendererFactory :\n            this.defaultCellRendererFactory);\n      }\n      public getCellStyleAt(row : number, col : number) : TableCellStyle {\n\n        var orderedCol = this.getOrderedColumnIndexAt(col);\n        var style = util.extend({}, getCellStyleAt(this, row, orderedCol) );\n        style.className = style.className || '';\n\n        if (this.editingCell &&\n            this.editingCell.row == row &&\n            this.editingCell.col == col) {\n          style.className += ' ${prefix}-editing';\n        }\n\n        if (row < headLength) {\n          style.className += ' ${prefix}-header';\n          style.editable = false;\n        } else if (row >= this.getRowCount() - footLength) {\n          style.className += ' ${prefix}-footer';\n          style.editable = false;\n        } else {\n          var itemIndex = this.getItemIndexAt(row, col);\n          row -= headLength;\n          style.className += ' ${prefix}-' +\n            (itemIndex.row % 2 == 0? 'even' : 'odd');\n          if (this.selectedRows[itemIndex.row]) {\n            style.className += ' ${prefix}-item-selected';\n          }\n          if (this.getItemStyleAt) {\n            util.extend(style, this.getItemStyleAt(itemIndex) );\n          }\n        }\n\n        if (style.editable === false) {\n          style.className += ' ${prefix}-readonly';\n        }\n\n        return style;\n      }\n\n      public getItemStyleAt :\n        (itemIndex : ItemIndex) => TableCellStyle = null;\n\n      public getValueAt(row : number, col : number) : any {\n        var orderedCol = this.getOrderedColumnIndexAt(col);\n        if (row < headLength || row >= this.getRowCount() - footLength) {\n          var label : any = getCellStyleAt(this, row, orderedCol).label || '';\n          return typeof label == 'function'? label(this) : label;\n        } else {\n          var itemIndex = this.getItemIndexAt(row, col);\n          var value = this.getItemAt(itemIndex.row)[itemIndex.col];\n          return typeof value != 'undefined'? value : '';\n        }\n      }\n      public tooltipSuffix = 'Tooltip';\n      public getTooltipAt(row : number, col : number) : any {\n        var orderedCol = this.getOrderedColumnIndexAt(col);\n        if (row < headLength || row >= this.getRowCount() - footLength) {\n          return '';\n        } else {\n          var itemIndex = this.getItemIndexAt(row, col);\n          var value = this.getItemAt(itemIndex.row)\n            [itemIndex.col + this.tooltipSuffix];\n          return typeof value != 'undefined'? value : '';\n        }\n      }\n      public setTableState(tableState : TemplateTableState) {\n\n        tableState = JSON.parse(JSON.stringify(tableState) );\n\n        tableState.lockColumn = tableState.lockColumn || 0;\n        tableState.enableLockColumn = !!tableState.enableLockColumn;\n        tableState.cellWidths = tableState.cellWidths || [];\n        tableState.cellHeights = tableState.cellHeights || [];\n        tableState.hiddenColumns = tableState.hiddenColumns || [];\n        tableState.sort = tableState.sort || null;\n        tableState.filters = tableState.filters || {};\n        tableState.orderedColumnIndices =\n          tableState.orderedColumnIndices || null;\n\n        var cellWidth : { [ col : number ] : number } = {};\n        var cellHeight : { [ row : number ] : number } = {};\n        var hiddenColumns : { [ orderedCol : number ] : boolean } = {};\n        tableState.cellWidths.forEach(\n            function(cw : { col : number, width : number }){\n          cellWidth[cw.col] = cw.width;\n        });\n        tableState.cellHeights.forEach(\n            function(ch : { row : number, height : number }) {\n          cellHeight[ch.row] = ch.height;\n        });\n        tableState.hiddenColumns.forEach(function(orderedCol : number) {\n          hiddenColumns[orderedCol] = true;\n        });\n        this.lockLeft = tableState.lockColumn;\n        this.enableLockColumn = tableState.enableLockColumn;\n        this.cellWidth = cellWidth;\n        this.cellHeight = cellHeight;\n        this.hiddenColumns = hiddenColumns;\n        this.sort = tableState.sort;\n        var filtered = false;\n        if (this.sort) {\n          filtered = true;\n        }\n        for (var dataField in this.headCells) {\n          var filter = tableState.filters[dataField];\n          this.getFilter(dataField).setState(filter || null);\n          if (filter) {\n            filtered = true;\n          }\n        }\n        this.orderedColumnIndices = tableState.orderedColumnIndices;\n        if (filtered) {\n          this.trigger('filterchange');\n        }\n      }\n      public getTableState() : TemplateTableState {\n        var cellWidths : { col : number, width : number}[] = [];\n        var cellHeights : { row : number, height : number}[] = [];\n        var hiddenColumns : number[] = [];\n        var filters : { [ dataField : string ] : any } = {};\n        var col : any, row : any;\n        for (col in this.cellWidth) {\n          cellWidths.push({ col : col, width : this.cellWidth[col] });\n        }\n        for (row in this.cellHeight) {\n          cellHeights.push({ row : row, height : this.cellHeight[row] });\n        }\n        for (col in this.hiddenColumns) {\n          hiddenColumns.push(col);\n        }\n        for (var dataField in this.headCells) {\n          var filter = this.getFilter(dataField);\n          if (filter.enabled() ) {\n            filters[dataField] = filter.getState();\n          }\n        }\n        var tableState : TemplateTableState = {\n          lockColumn : this.lockLeft,\n          enableLockColumn : this.enableLockColumn,\n          cellWidths : cellWidths,\n          cellHeights : cellHeights,\n          hiddenColumns : hiddenColumns,\n          sort : this.sort,\n          filters : filters,\n          orderedColumnIndices : this.getOrderedColumnIndices()\n        };\n        return JSON.parse(JSON.stringify(tableState) );\n      }\n    }\n\n    var table = new TemplateTableImpl(\n        new TemplateTableModelImpl() );\n\n    // append itemIndex to events.\n    [ 'valuechange' ].\n    forEach(function(type) {\n      table.model.on(type, function(event : Event, detail : any) {\n        detail.itemIndex = this.getItemIndexAt(detail.row, detail.col);\n      });\n    });\n    tableEventTypes.forEach(function(type) {\n      table.on(type, function(event : Event, detail : any) {\n        detail.itemIndex = this.model.getItemIndexAt(detail.row, detail.col);\n      });\n    });\n\n    table.on('mousedown', function(event : Event, detail : any) {\n      if (detail.row < this.model.getLockTop() ) {\n        // on header.\n        this.editor.endEdit();\n        this.invalidate();\n      }\n    }).on('contextmenu', function(event : Event, detail : any) {\n\n      if (!(detail.row < table.model.getLockTop() ) ) {\n        return;\n      }\n\n      detail.originalEvent.preventDefault();\n      this.trigger('showcontextmenu', {\n        x: detail.originalEvent.pageX,\n        y: detail.originalEvent.pageY });\n\n    }).on('showcontextmenu', function(event : Event, detail : any) {\n\n      var menuItems = this.getContextMenuItems();\n      if (!menuItems || menuItems.length == 0) {\n        return;\n      }\n\n      util.callLater(function() {\n        ui.showMenu(detail.x, detail.y, menuItems);\n      });\n\n    });\n\n    util.set(table.$el, {\n      on : {\n        contextmenu : function(event) {\n          var tbl = util.closest(event.target,\n            { tagName : 'TABLE', root : table.$el });\n          if (tbl == null) {\n            event.preventDefault();\n            table.trigger('showcontextmenu', {\n              x: event.pageX, y: event.pageY });\n          }\n        }\n      }\n    });\n\n    table.model.on('valuechange', function(event : Event, detail : any) {\n      this.trigger('beforevaluechange', detail);\n      this.setValueAt(detail.row, detail.col, detail.newValue);\n    }).on('editingcellchange', function(event : Event, detail : any) {\n      this.editingCell = detail.cell;\n    }).on('cellsizechange', function(event : Event, detail : any) {\n      if (typeof detail.col == 'number') {\n        var orderedCol = this.getOrderedColumnIndexAt(detail.col);\n        this.cellWidth[orderedCol] = detail.cellWidth;\n      }\n    }).on('columndragged', function(event : Event, detail : any) {\n      var tableModel = <TemplateTableModelImpl>table.model;\n      this.orderedColumnIndices = util.moveSublist(\n          this.orderedColumnIndices, detail.colFrom, detail.colSpan, detail.colTo);\n      if (detail.colFrom < tableModel.lockLeft &&\n          tableModel.lockLeft <= detail.colTo) {\n        tableModel.lockLeft -= detail.colSpan;\n      } else if (detail.colTo < tableModel.lockLeft &&\n          tableModel.lockLeft <= detail.colFrom) {\n        tableModel.lockLeft += detail.colSpan;\n      }\n    }).on('filterchange', function() {\n\n      // apply filter\n\n      // clear selected rows.\n      this.selectedRows = {};\n      this.trigger('rowselectionchange',\n          { selectedRows : this.selectedRows, reason : 'filterchange' });\n\n      var filters : { [ dataField : string ] : Filter } = {};\n      !function() {\n        for (var dataField in this.headCells) {\n          var filter = this.getFilter(dataField);\n          if (filter.enabled() ) {\n            filters[dataField] = filter;\n          }\n        }  \n      }.bind(this)();\n\n      var filteredItems : any[] = this.items.filter(function(item : any) {\n        var filtered = false;\n        for (var dataField in filters) {\n          var value = item[dataField];\n          if (typeof value == 'undefined') {\n            continue;\n          }\n          var filter = filters[dataField];\n          if (!filter.accept(value) ) {\n            filtered = true;\n            break;\n          }\n        }\n        return !filtered;\n      } );\n\n      var sort = this.sort;\n      if (sort) {\n        var order = sort.order == SortOrder.ASC? 1 : -1;\n        var dataField = sort.dataField;\n        var indexField = '.index';\n        var sortKeyField = '.sortKey';\n\n        // sort by custom comparator or default.\n        var comparator = this.headCells[dataField].comparator ||\n          function(v1 : any, v2 : any) { return v1 < v2? -1 : 1; };\n\n        filteredItems.forEach(function(item, i) {\n          item[indexField] = i;\n          item[sortKeyField] = (item[dataField] === null ||\n              typeof item[dataField] == 'undefined')? '' : item[dataField];\n        });\n\n        filteredItems.sort(function(item1, item2) {\n          var v1 = item1[sortKeyField];\n          var v2 = item2[sortKeyField];\n          if (v1 === '' && v2 !== '') {\n            return 1;\n          } else if (v1 !== '' && v2 === '') {\n            return -1;\n          }\n          var result = (v1 === v2)? 0 : comparator(v1, v2);\n          if (result != 0) {\n            return order * result;\n          }\n          // index order.\n          return order * (item1[indexField] < item2[indexField]? -1 : 1);\n        });\n\n        filteredItems.forEach(function(item) {\n          delete item[indexField];\n          delete item[sortKeyField];\n        });\n      }\n      this.filteredItems = filteredItems;\n      table.invalidate();\n    });\n\n    enableHover(table);\n    enableRowSelect(table);\n\n    return table;\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  var table = {\n    template: '<div class=\"comfortable\"></div>',\n    props : {\n      template : { 'default' : function() {\n          return {\n            thead : [[ { label : 'col1' },{ label : 'col2' },{ label : 'col3' }]]\n          };\n        } },\n    },\n    methods: {\n      invalidate : function() {\n        this.$options.table.invalidate();\n        return this;\n      },\n      setItems : function(items : any[]) {\n        this.$options.table.model.items = items;\n        this.invalidate();\n        if (this.getModel().filteredItems) {\n          this.getModel().trigger('filterchange');\n        }\n        return this;\n      },\n      getItems : function() {\n        return this.$options.table.model.items;\n      },\n      getModel : function() {\n        return this.$options.table.model;\n      }\n    },\n    mounted : function() {\n\n      var table = fromTemplate(this.template);\n\n      // set default values.\n      table.$el.style.width = '100%';\n      table.$el.style.height = '100%';\n      this.$el.style.width = this.$el.style.width || '400px';\n      this.$el.style.height = this.$el.style.height || '200px';\n\n      // emit events.\n      var emitEventHandler = function(event : Event, detail : any) {\n        this.$emit(event.type, event, detail);\n      }.bind(this);\n      [\n       'mousedown', 'mouseover', 'mouseout',\n       'click', 'dblclick', 'contextmenu' ].forEach(function(type) {\n         table.on(type, emitEventHandler);\n       });\n      table.model.on('valuechange', emitEventHandler);\n\n      // as a non-reactive property, set to $options.\n      this.$options.table = table;\n      this.$el.appendChild(table.$el);\n\n      var items : string = this.items;\n      this.setItems(items? JSON.parse(items) : []);\n\n      // observe the size of table.\n      util.extend(this.$options, {\n        observeInterval : 50, // ms(20fps)\n        alive : true, lastSize : { width : 0, height : 0 }\n      });\n      var observeSize = function() {\n        var size = {\n          width : this.$el.offsetWidth,\n          height : this.$el.offsetHeight\n        };\n        if (size.width != this.$options.lastSize.width ||\n            size.height != this.$options.lastSize.height) {\n          this.$options.lastSize = size;\n          this.invalidate();\n        }\n        if (this.$options.alive) {\n          window.setTimeout(observeSize, this.$options.observeInterval);\n        }\n      }.bind(this);\n      observeSize();\n    },\n    beforeDestroy : function() {\n      // stop observing\n      this.$options.alive = false;\n      // dispose\n      this.$options.table.dispose();\n    }\n  }\n\n  export var vueComponents = {\n    table : table\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  export interface Editor {\n    endEdit : (reason : string) => void;\n  }\n\n  export interface Table extends UIEventTarget {\n    $el : HTMLElement;\n    model : TableModel;\n    editor : Editor;\n    forEachCells : (callback : (\n      cell : {\n        $el : HTMLElement, row : number, col : number \n      }) => boolean) => void;\n    findNextEditable : (\n        row : number, col : number,\n        offset : { row : number, col : number },\n        found : (row : number, col : number) => void\n      ) => void;\n    dispose : () => void;\n  }\n\n  export interface TableCellRenderer {\n    getCellStyle? : (cell : any) => ElementOptions;\n    render : (cell : any) => void;\n    beginEdit : (cell : any) => {\n      focus() : void;\n      endEdit : () => ({ newValue : any; oldValue? : any; } | void);\n    };\n    dispose : () => void;\n  }\n\n  export interface TdWrapper {\n    $el : HTMLElement;\n    tableModel : TableModel; \n  }\n\n  export type TableCellRendererFactory =\n    (td : TdWrapper) => TableCellRenderer;\n\n  export interface TableCellStyle {\n    rowSpan? : number;\n    colSpan? : number;\n    editable? : boolean;\n    fontWeight? : string;\n    className? : string;\n    textAlign? : string;\n    verticalAlign? : string;\n    color? : string;\n    backgroundColor? : string;\n    borderLeft? : string;\n    borderTop? : string;\n    borderRight? : string;\n    borderBottom? : string;\n    labelFunction? : (value : any, cell : EditorCell) => string;\n  }\n\n  export interface TableCell extends TableCellStyle {\n    row : number;\n    col : number;\n    value : any;\n    tooltip? : string;\n  }\n\n  export interface TableModel extends EventTarget {\n    defaultCellWidth : number;\n    defaultCellHeight : number;\n    defaultCellStyle : TableCellStyle;\n    defaultCellRendererFactory : TableCellRendererFactory;\n    maxRowSpan : number;\n    maxColSpan : number;\n    minCellWidth : number;\n    getLockTop : () => number;\n    getLockLeft : () => number;\n    getLockBottom : () => number;\n    getLockRight : () => number;\n    getRowCount : () => number;\n    getColumnCount : () => number;\n    getLineRowAt : (row : number) => any;\n    getLineRowCountAt : (row : number) => number;\n    getValueAt : (row : number, col : number) => any;\n    getTooltipAt : (row : number, col : number) => string;\n    getCellStyleAt : (row : number, col : number) => TableCellStyle;\n    getCellRendererFactoryAt : (row : number, col : number) => TableCellRendererFactory;\n    getCellWidthAt : (col : number) => number;\n    getCellHeightAt : (row : number) => number;\n    getCellAt : (row : number, col : number) => TableCell;\n    checkSpaned : (row : number, col : number) => { row : number, col : number };\n    isColumnResizableAt : (col : number) => boolean;\n    isColumnDraggable : () => boolean;\n    isColumnHiddenAt : (col : number) => boolean;\n  }\n\n  export interface TextEditorOptions {\n    decimalDigits? : number;\n    maxLength? : number;\n    imeMode? : string;\n  }\n  export interface TextEditorCell extends TableCell {\n    maxLength? : number;\n    imeMode? : string;\n    decimalDigits? : number;\n  }\n\n  export interface CheckBoxOptions {\n  }\n  export interface CheckBoxCell extends TableCell {\n    booleanValues : any[];\n  }\n\n  export interface SelectBoxOptions {\n  }\n\n  export interface SelectBoxCell extends TableCell {\n    valueField? : string;\n    labelField? : string;\n    options? : any[] | ( (row : number,col : number) => any[]);\n  }\n\n  export interface CellRendererFactoryOpts {\n    dataType? : string;\n    renderIsEditor? : boolean;\n    labelFunction? : (value : any, cell : EditorCell) => string;\n    editorPool? : EditorPool;\n  }\n\n  export interface EditorPool {\n    getEditor(dataType : string) : CellEditor<any>;\n    releaseEditor(dataType : string, editor : CellEditor<any>) : void;\n  }\n\n  export type EditorCell = TextEditorCell|CheckBoxCell|SelectBoxCell;\n\n  export interface CellEditor<E> {\n    $el : E;\n    beginEdit : (td : TdWrapper, cell : EditorCell) => void;\n    focus : () => void;\n    blur : () => void;\n    setValue : (value : any) => void;\n    getValue : () => any;\n    isValid : () => boolean;\n    setVisible : (visible : boolean) => void;\n  }\n\n}\n","/**\n * comfortable\n *\n * Copyright (c) 2018 Kazuhiko Arase\n *\n * URL: https://github.com/kazuhikoarase/comfortable-js/\n *\n * Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\nnamespace comfortable {\n\n  export interface TableTemplateCellStyle\n  extends TableCellStyle, CellRendererFactoryOpts {\n\n    width? : number;\n    height? : number;\n\n    columnDraggable? : boolean;\n    columnResizable? : boolean;\n\n    dataField? : string;\n\n    /** one of 'string(default)', 'number', 'boolean', 'select-one' */\n    dataType? : string;\n\n    /** dataType : 'string', 'number' */\n    maxLength? : number;\n\n    /** dataType : 'number' */\n    decimalDigits? : number;\n\n    /** dataType : 'boolean',\n      2 elements array like [falseValue, trueValue].\n     */\n    booleanValues? : any[];\n    showGroupCheck? : boolean;\n\n    /** dataType : 'select-one' */\n    options? : (any[] | ((row : number, col : number) => any[]) );\n    labelField? : string;\n    valueField? : string;\n\n    factory? : TableCellRendererFactory;\n\n    label? : (string | ((model : TemplateTableModel) => string) );\n    description? : (string | ((model : TemplateTableModel) => string) );\n    /** dataType : 'number' */\n    comparator? : Comparator;\n  }\n\n  export type Comparator = (v1 : any, v2 : any) => number;\n\n  export interface TableTemplate {\n    lockColumn? : number;\n    columnDraggable? : boolean;\n    thead? : TableTemplateCellStyle[][];\n    tbody? : TableTemplateCellStyle[][];\n    tfoot? : TableTemplateCellStyle[][];\n  }\n\n  export interface ItemIndex {\n    row : number;\n    /** col will be string if dataField is defined. */\n    col : (number | string);\n  }\n\n  export interface TemplateTableModel extends TableModel {\n    enableLockColumn : boolean;\n    defaultLockColumn : number;\n    setLockLeft : (lockLeft : number) => void;\n    setLockRight : (lockLeft : number) => void;\n    sort : Sort;\n    filterFactory : (dataField : string) => Filter;\n    getFilter : (dataField : string) => Filter;\n    defaultHeaderCellRendererFactory : TableCellRendererFactory;\n    headCells : { [ dataField : string ] : TableTemplateCellStyle };\n    bodyCells : { [ dataField : string ] : TableTemplateCellStyle };\n    footCells : { [ dataField : string ] : TableTemplateCellStyle };\n    items : any[];\n    filteredItems : any[];\n    resetFilter : () => void;\n    getItemAt : (row : number) => any;\n    getItemCount : () => number;\n    getItemIndexAt : (row : number, col : number) => ItemIndex;\n    getItemStyleAt : (itemIndex : ItemIndex) => TableCellStyle;\n    getOrderedColumnIndexAt : (col : number) => number;\n    orderedColumnIndices : number[];\n    hiddenColumns : { [ orderedCol : number ] : boolean };\n    hoverRow : number;\n    editingCell : { row : number, col : number };\n    setTableState : (tableState : TemplateTableState) => void;\n    getTableState : () => TemplateTableState;\n    forEachItemCells : (\n      callback: (\n        cell : TableTemplateCellStyle,\n        item : any, row : number, col : number) => boolean) => void;\n  }\n\n  export interface TemplateTableState {\n    lockColumn : number;\n    enableLockColumn : boolean;\n    cellWidths : { col : number, width : number }[];\n    cellHeights : { row : number, height : number }[];\n    hiddenColumns : number[];\n    sort : Sort;\n    filters : { [ dataField : string ] : any };\n    orderedColumnIndices : number[];\n  }\n\n  export interface TemplateTableCell extends TableCell {\n    dataField? : string;\n    comparator? : Comparator;\n  }\n\n  export interface FilterUI {\n    $el : HTMLElement;\n    setState : (state : any) => void;\n    getState : () => any;\n  }\n\n  export interface Filter {\n    createUI : (\n      dialog : () => EventTarget,\n      opts : FilterDialogOptions,\n      tableModel : TemplateTableModel,\n      cell : TemplateTableCell) => FilterUI;\n    enabled : () => boolean;\n    accept : (value : any) => boolean;\n    setState : (state : any) => void;\n    getState : () => any;\n  }\n\n  export interface Sort {\n    dataField : string;\n    order : string;\n  }\n\n  export interface TemplateTable extends Table {\n  }\n\n}\n"]}